
AVRASM ver. 2.2.8  C:\Users\SANTIAGO\OneDrive\Desktop\UVG\5to Semestre\Progra de micros\Proyecto\Proyecto 1\Proyecto 1\Proyecto 1\main.asm Thu Mar 14 15:24:32 2024

[builtin](2): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.7.374\avrasm\inc\m328Pdef.inc'
C:\Users\SANTIAGO\OneDrive\Desktop\UVG\5to Semestre\Progra de micros\Proyecto\Proyecto 1\Proyecto 1\Proyecto 1\main.asm(15): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.7.374\avrasm\inc\M328PDEF.inc'
[builtin](2): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.7.374\avrasm\inc\m328Pdef.inc'
C:\Users\SANTIAGO\OneDrive\Desktop\UVG\5to Semestre\Progra de micros\Proyecto\Proyecto 1\Proyecto 1\Proyecto 1\main.asm(15): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.7.374\avrasm\inc\M328PDEF.inc'
                                 
                                 ;**************************************************************************
                                 
                                 ;***** Created: 2011-02-09 12:03 ******* Source: ATmega328P.xml **********
                                 ;*************************************************************************
                                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                                 ;* 
                                 ;* Number            : AVR000
                                 ;* File Name         : "m328Pdef.inc"
                                 ;* Title             : Register/Bit Definitions for the ATmega328P
                                 ;* Date              : 2011-02-09
                                 ;* Version           : 2.35
                                 ;* Support E-mail    : avr@atmel.com
                                 ;* Target MCU        : ATmega328P
                                 ;* 
                                 ;* DESCRIPTION
                                 ;* When including this file in the assembly program file, all I/O register 
                                 ;* names and I/O register bit names appearing in the data book can be used.
                                 ;* In addition, the six registers forming the three data pointers X, Y and 
                                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                                 ;* SRAM is also defined 
                                 ;* 
                                 ;* The Register names are represented by their hexadecimal address.
                                 ;* 
                                 ;* The Register Bit names are represented by their bit number (0-7).
                                 ;* 
                                 ;* Please observe the difference in using the bit names with instructions
                                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                                 ;* (skip if bit in register set/cleared). The following example illustrates
                                 ;* this:
                                 ;* 
                                 ;* in    r16,PORTB             ;read PORTB latch
                                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                                 ;* out   PORTB,r16             ;output to PORTB
                                 ;* 
                                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                                 ;* rjmp  TOV0_is_set           ;jump if set
                                 ;* ...                         ;otherwise do something else
                                 ;*************************************************************************
                                 
                                 #ifndef _M328PDEF_INC_
                                 #define _M328PDEF_INC_
                                 
                                 
                                 #pragma partinc 0
                                 
                                 ; ***** SPECIFY DEVICE ***************************************************
                                 .device ATmega328P
                                 #pragma AVRPART ADMIN PART_NAME ATmega328P
                                 .equ	SIGNATURE_000	= 0x1e
                                 .equ	SIGNATURE_001	= 0x95
                                 .equ	SIGNATURE_002	= 0x0f
                                 
                                 #pragma AVRPART CORE CORE_VERSION V2E
                                 
                                 
                                 ; ***** I/O REGISTER DEFINITIONS *****************************************
                                 ; NOTE:
                                 ; Definitions marked "MEMORY MAPPED"are extended I/O ports
                                 ; and cannot be used with IN/OUT instructions
                                 .equ	UDR0	= 0xc6	; MEMORY MAPPED
                                 .equ	UBRR0L	= 0xc4	; MEMORY MAPPED
                                 .equ	UBRR0H	= 0xc5	; MEMORY MAPPED
                                 .equ	UCSR0C	= 0xc2	; MEMORY MAPPED
                                 .equ	UCSR0B	= 0xc1	; MEMORY MAPPED
                                 .equ	UCSR0A	= 0xc0	; MEMORY MAPPED
                                 .equ	TWAMR	= 0xbd	; MEMORY MAPPED
                                 .equ	TWCR	= 0xbc	; MEMORY MAPPED
                                 .equ	TWDR	= 0xbb	; MEMORY MAPPED
                                 .equ	TWAR	= 0xba	; MEMORY MAPPED
                                 .equ	TWSR	= 0xb9	; MEMORY MAPPED
                                 .equ	TWBR	= 0xb8	; MEMORY MAPPED
                                 .equ	ASSR	= 0xb6	; MEMORY MAPPED
                                 .equ	OCR2B	= 0xb4	; MEMORY MAPPED
                                 .equ	OCR2A	= 0xb3	; MEMORY MAPPED
                                 .equ	TCNT2	= 0xb2	; MEMORY MAPPED
                                 .equ	TCCR2B	= 0xb1	; MEMORY MAPPED
                                 .equ	TCCR2A	= 0xb0	; MEMORY MAPPED
                                 .equ	OCR1BL	= 0x8a	; MEMORY MAPPED
                                 .equ	OCR1BH	= 0x8b	; MEMORY MAPPED
                                 .equ	OCR1AL	= 0x88	; MEMORY MAPPED
                                 .equ	OCR1AH	= 0x89	; MEMORY MAPPED
                                 .equ	ICR1L	= 0x86	; MEMORY MAPPED
                                 .equ	ICR1H	= 0x87	; MEMORY MAPPED
                                 .equ	TCNT1L	= 0x84	; MEMORY MAPPED
                                 .equ	TCNT1H	= 0x85	; MEMORY MAPPED
                                 .equ	TCCR1C	= 0x82	; MEMORY MAPPED
                                 .equ	TCCR1B	= 0x81	; MEMORY MAPPED
                                 .equ	TCCR1A	= 0x80	; MEMORY MAPPED
                                 .equ	DIDR1	= 0x7f	; MEMORY MAPPED
                                 .equ	DIDR0	= 0x7e	; MEMORY MAPPED
                                 .equ	ADMUX	= 0x7c	; MEMORY MAPPED
                                 .equ	ADCSRB	= 0x7b	; MEMORY MAPPED
                                 .equ	ADCSRA	= 0x7a	; MEMORY MAPPED
                                 .equ	ADCH	= 0x79	; MEMORY MAPPED
                                 .equ	ADCL	= 0x78	; MEMORY MAPPED
                                 .equ	TIMSK2	= 0x70	; MEMORY MAPPED
                                 .equ	TIMSK1	= 0x6f	; MEMORY MAPPED
                                 .equ	TIMSK0	= 0x6e	; MEMORY MAPPED
                                 .equ	PCMSK1	= 0x6c	; MEMORY MAPPED
                                 .equ	PCMSK2	= 0x6d	; MEMORY MAPPED
                                 .equ	PCMSK0	= 0x6b	; MEMORY MAPPED
                                 .equ	EICRA	= 0x69	; MEMORY MAPPED
                                 .equ	PCICR	= 0x68	; MEMORY MAPPED
                                 .equ	OSCCAL	= 0x66	; MEMORY MAPPED
                                 .equ	PRR	= 0x64	; MEMORY MAPPED
                                 .equ	CLKPR	= 0x61	; MEMORY MAPPED
                                 .equ	WDTCSR	= 0x60	; MEMORY MAPPED
                                 .equ	SREG	= 0x3f
                                 .equ	SPL	= 0x3d
                                 .equ	SPH	= 0x3e
                                 .equ	SPMCSR	= 0x37
                                 .equ	MCUCR	= 0x35
                                 .equ	MCUSR	= 0x34
                                 .equ	SMCR	= 0x33
                                 .equ	ACSR	= 0x30
                                 .equ	SPDR	= 0x2e
                                 .equ	SPSR	= 0x2d
                                 .equ	SPCR	= 0x2c
                                 .equ	GPIOR2	= 0x2b
                                 .equ	GPIOR1	= 0x2a
                                 .equ	OCR0B	= 0x28
                                 .equ	OCR0A	= 0x27
                                 .equ	TCNT0	= 0x26
                                 .equ	TCCR0B	= 0x25
                                 .equ	TCCR0A	= 0x24
                                 .equ	GTCCR	= 0x23
                                 .equ	EEARH	= 0x22
                                 .equ	EEARL	= 0x21
                                 .equ	EEDR	= 0x20
                                 .equ	EECR	= 0x1f
                                 .equ	GPIOR0	= 0x1e
                                 .equ	EIMSK	= 0x1d
                                 .equ	EIFR	= 0x1c
                                 .equ	PCIFR	= 0x1b
                                 .equ	TIFR2	= 0x17
                                 .equ	TIFR1	= 0x16
                                 .equ	TIFR0	= 0x15
                                 .equ	PORTD	= 0x0b
                                 .equ	DDRD	= 0x0a
                                 .equ	PIND	= 0x09
                                 .equ	PORTC	= 0x08
                                 .equ	DDRC	= 0x07
                                 .equ	PINC	= 0x06
                                 .equ	PORTB	= 0x05
                                 .equ	DDRB	= 0x04
                                 .equ	PINB	= 0x03
                                 
                                 
                                 ; ***** BIT DEFINITIONS **************************************************
                                 
                                 ; ***** USART0 ***********************
                                 ; UDR0 - USART I/O Data Register
                                 .equ	UDR0_0	= 0	; USART I/O Data Register bit 0
                                 .equ	UDR0_1	= 1	; USART I/O Data Register bit 1
                                 .equ	UDR0_2	= 2	; USART I/O Data Register bit 2
                                 .equ	UDR0_3	= 3	; USART I/O Data Register bit 3
                                 .equ	UDR0_4	= 4	; USART I/O Data Register bit 4
                                 .equ	UDR0_5	= 5	; USART I/O Data Register bit 5
                                 .equ	UDR0_6	= 6	; USART I/O Data Register bit 6
                                 .equ	UDR0_7	= 7	; USART I/O Data Register bit 7
                                 
                                 ; UCSR0A - USART Control and Status Register A
                                 .equ	MPCM0	= 0	; Multi-processor Communication Mode
                                 .equ	U2X0	= 1	; Double the USART transmission speed
                                 .equ	UPE0	= 2	; Parity Error
                                 .equ	DOR0	= 3	; Data overRun
                                 .equ	FE0	= 4	; Framing Error
                                 .equ	UDRE0	= 5	; USART Data Register Empty
                                 .equ	TXC0	= 6	; USART Transmitt Complete
                                 .equ	RXC0	= 7	; USART Receive Complete
                                 
                                 ; UCSR0B - USART Control and Status Register B
                                 .equ	TXB80	= 0	; Transmit Data Bit 8
                                 .equ	RXB80	= 1	; Receive Data Bit 8
                                 .equ	UCSZ02	= 2	; Character Size
                                 .equ	TXEN0	= 3	; Transmitter Enable
                                 .equ	RXEN0	= 4	; Receiver Enable
                                 .equ	UDRIE0	= 5	; USART Data register Empty Interrupt Enable
                                 .equ	TXCIE0	= 6	; TX Complete Interrupt Enable
                                 .equ	RXCIE0	= 7	; RX Complete Interrupt Enable
                                 
                                 ; UCSR0C - USART Control and Status Register C
                                 .equ	UCPOL0	= 0	; Clock Polarity
                                 .equ	UCSZ00	= 1	; Character Size
                                 .equ	UCPHA0	= UCSZ00	; For compatibility
                                 .equ	UCSZ01	= 2	; Character Size
                                 .equ	UDORD0	= UCSZ01	; For compatibility
                                 .equ	USBS0	= 3	; Stop Bit Select
                                 .equ	UPM00	= 4	; Parity Mode Bit 0
                                 .equ	UPM01	= 5	; Parity Mode Bit 1
                                 .equ	UMSEL00	= 6	; USART Mode Select
                                 .equ	UMSEL0	= UMSEL00	; For compatibility
                                 .equ	UMSEL01	= 7	; USART Mode Select
                                 .equ	UMSEL1	= UMSEL01	; For compatibility
                                 
                                 ; UBRR0H - USART Baud Rate Register High Byte
                                 .equ	UBRR8	= 0	; USART Baud Rate Register bit 8
                                 .equ	UBRR9	= 1	; USART Baud Rate Register bit 9
                                 .equ	UBRR10	= 2	; USART Baud Rate Register bit 10
                                 .equ	UBRR11	= 3	; USART Baud Rate Register bit 11
                                 
                                 ; UBRR0L - USART Baud Rate Register Low Byte
                                 .equ	_UBRR0	= 0	; USART Baud Rate Register bit 0
                                 .equ	_UBRR1	= 1	; USART Baud Rate Register bit 1
                                 .equ	UBRR2	= 2	; USART Baud Rate Register bit 2
                                 .equ	UBRR3	= 3	; USART Baud Rate Register bit 3
                                 .equ	UBRR4	= 4	; USART Baud Rate Register bit 4
                                 .equ	UBRR5	= 5	; USART Baud Rate Register bit 5
                                 .equ	UBRR6	= 6	; USART Baud Rate Register bit 6
                                 .equ	UBRR7	= 7	; USART Baud Rate Register bit 7
                                 
                                 
                                 ; ***** TWI **************************
                                 ; TWAMR - TWI (Slave) Address Mask Register
                                 .equ	TWAM0	= 1	; 
                                 .equ	TWAMR0	= TWAM0	; For compatibility
                                 .equ	TWAM1	= 2	; 
                                 .equ	TWAMR1	= TWAM1	; For compatibility
                                 .equ	TWAM2	= 3	; 
                                 .equ	TWAMR2	= TWAM2	; For compatibility
                                 .equ	TWAM3	= 4	; 
                                 .equ	TWAMR3	= TWAM3	; For compatibility
                                 .equ	TWAM4	= 5	; 
                                 .equ	TWAMR4	= TWAM4	; For compatibility
                                 .equ	TWAM5	= 6	; 
                                 .equ	TWAMR5	= TWAM5	; For compatibility
                                 .equ	TWAM6	= 7	; 
                                 .equ	TWAMR6	= TWAM6	; For compatibility
                                 
                                 ; TWBR - TWI Bit Rate register
                                 .equ	TWBR0	= 0	; 
                                 .equ	TWBR1	= 1	; 
                                 .equ	TWBR2	= 2	; 
                                 .equ	TWBR3	= 3	; 
                                 .equ	TWBR4	= 4	; 
                                 .equ	TWBR5	= 5	; 
                                 .equ	TWBR6	= 6	; 
                                 .equ	TWBR7	= 7	; 
                                 
                                 ; TWCR - TWI Control Register
                                 .equ	TWIE	= 0	; TWI Interrupt Enable
                                 .equ	TWEN	= 2	; TWI Enable Bit
                                 .equ	TWWC	= 3	; TWI Write Collition Flag
                                 .equ	TWSTO	= 4	; TWI Stop Condition Bit
                                 .equ	TWSTA	= 5	; TWI Start Condition Bit
                                 .equ	TWEA	= 6	; TWI Enable Acknowledge Bit
                                 .equ	TWINT	= 7	; TWI Interrupt Flag
                                 
                                 ; TWSR - TWI Status Register
                                 .equ	TWPS0	= 0	; TWI Prescaler
                                 .equ	TWPS1	= 1	; TWI Prescaler
                                 .equ	TWS3	= 3	; TWI Status
                                 .equ	TWS4	= 4	; TWI Status
                                 .equ	TWS5	= 5	; TWI Status
                                 .equ	TWS6	= 6	; TWI Status
                                 .equ	TWS7	= 7	; TWI Status
                                 
                                 ; TWDR - TWI Data register
                                 .equ	TWD0	= 0	; TWI Data Register Bit 0
                                 .equ	TWD1	= 1	; TWI Data Register Bit 1
                                 .equ	TWD2	= 2	; TWI Data Register Bit 2
                                 .equ	TWD3	= 3	; TWI Data Register Bit 3
                                 .equ	TWD4	= 4	; TWI Data Register Bit 4
                                 .equ	TWD5	= 5	; TWI Data Register Bit 5
                                 .equ	TWD6	= 6	; TWI Data Register Bit 6
                                 .equ	TWD7	= 7	; TWI Data Register Bit 7
                                 
                                 ; TWAR - TWI (Slave) Address register
                                 .equ	TWGCE	= 0	; TWI General Call Recognition Enable Bit
                                 .equ	TWA0	= 1	; TWI (Slave) Address register Bit 0
                                 .equ	TWA1	= 2	; TWI (Slave) Address register Bit 1
                                 .equ	TWA2	= 3	; TWI (Slave) Address register Bit 2
                                 .equ	TWA3	= 4	; TWI (Slave) Address register Bit 3
                                 .equ	TWA4	= 5	; TWI (Slave) Address register Bit 4
                                 .equ	TWA5	= 6	; TWI (Slave) Address register Bit 5
                                 .equ	TWA6	= 7	; TWI (Slave) Address register Bit 6
                                 
                                 
                                 ; ***** TIMER_COUNTER_1 **************
                                 ; TIMSK1 - Timer/Counter Interrupt Mask Register
                                 .equ	TOIE1	= 0	; Timer/Counter1 Overflow Interrupt Enable
                                 .equ	OCIE1A	= 1	; Timer/Counter1 Output CompareA Match Interrupt Enable
                                 .equ	OCIE1B	= 2	; Timer/Counter1 Output CompareB Match Interrupt Enable
                                 .equ	ICIE1	= 5	; Timer/Counter1 Input Capture Interrupt Enable
                                 
                                 ; TIFR1 - Timer/Counter Interrupt Flag register
                                 .equ	TOV1	= 0	; Timer/Counter1 Overflow Flag
                                 .equ	OCF1A	= 1	; Output Compare Flag 1A
                                 .equ	OCF1B	= 2	; Output Compare Flag 1B
                                 .equ	ICF1	= 5	; Input Capture Flag 1
                                 
                                 ; TCCR1A - Timer/Counter1 Control Register A
                                 .equ	WGM10	= 0	; Waveform Generation Mode
                                 .equ	WGM11	= 1	; Waveform Generation Mode
                                 .equ	COM1B0	= 4	; Compare Output Mode 1B, bit 0
                                 .equ	COM1B1	= 5	; Compare Output Mode 1B, bit 1
                                 .equ	COM1A0	= 6	; Comparet Ouput Mode 1A, bit 0
                                 .equ	COM1A1	= 7	; Compare Output Mode 1A, bit 1
                                 
                                 ; TCCR1B - Timer/Counter1 Control Register B
                                 .equ	CS10	= 0	; Prescaler source of Timer/Counter 1
                                 .equ	CS11	= 1	; Prescaler source of Timer/Counter 1
                                 .equ	CS12	= 2	; Prescaler source of Timer/Counter 1
                                 .equ	WGM12	= 3	; Waveform Generation Mode
                                 .equ	WGM13	= 4	; Waveform Generation Mode
                                 .equ	ICES1	= 6	; Input Capture 1 Edge Select
                                 .equ	ICNC1	= 7	; Input Capture 1 Noise Canceler
                                 
                                 ; TCCR1C - Timer/Counter1 Control Register C
                                 .equ	FOC1B	= 6	; 
                                 .equ	FOC1A	= 7	; 
                                 
                                 ; GTCCR - General Timer/Counter Control Register
                                 .equ	PSRSYNC	= 0	; Prescaler Reset Timer/Counter1 and Timer/Counter0
                                 .equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 
                                 ; ***** TIMER_COUNTER_2 **************
                                 ; TIMSK2 - Timer/Counter Interrupt Mask register
                                 .equ	TOIE2	= 0	; Timer/Counter2 Overflow Interrupt Enable
                                 .equ	TOIE2A	= TOIE2	; For compatibility
                                 .equ	OCIE2A	= 1	; Timer/Counter2 Output Compare Match A Interrupt Enable
                                 .equ	OCIE2B	= 2	; Timer/Counter2 Output Compare Match B Interrupt Enable
                                 
                                 ; TIFR2 - Timer/Counter Interrupt Flag Register
                                 .equ	TOV2	= 0	; Timer/Counter2 Overflow Flag
                                 .equ	OCF2A	= 1	; Output Compare Flag 2A
                                 .equ	OCF2B	= 2	; Output Compare Flag 2B
                                 
                                 ; TCCR2A - Timer/Counter2 Control Register A
                                 .equ	WGM20	= 0	; Waveform Genration Mode
                                 .equ	WGM21	= 1	; Waveform Genration Mode
                                 .equ	COM2B0	= 4	; Compare Output Mode bit 0
                                 .equ	COM2B1	= 5	; Compare Output Mode bit 1
                                 .equ	COM2A0	= 6	; Compare Output Mode bit 1
                                 .equ	COM2A1	= 7	; Compare Output Mode bit 1
                                 
                                 ; TCCR2B - Timer/Counter2 Control Register B
                                 .equ	CS20	= 0	; Clock Select bit 0
                                 .equ	CS21	= 1	; Clock Select bit 1
                                 .equ	CS22	= 2	; Clock Select bit 2
                                 .equ	WGM22	= 3	; Waveform Generation Mode
                                 .equ	FOC2B	= 6	; Force Output Compare B
                                 .equ	FOC2A	= 7	; Force Output Compare A
                                 
                                 ; TCNT2 - Timer/Counter2
                                 .equ	TCNT2_0	= 0	; Timer/Counter 2 bit 0
                                 .equ	TCNT2_1	= 1	; Timer/Counter 2 bit 1
                                 .equ	TCNT2_2	= 2	; Timer/Counter 2 bit 2
                                 .equ	TCNT2_3	= 3	; Timer/Counter 2 bit 3
                                 .equ	TCNT2_4	= 4	; Timer/Counter 2 bit 4
                                 .equ	TCNT2_5	= 5	; Timer/Counter 2 bit 5
                                 .equ	TCNT2_6	= 6	; Timer/Counter 2 bit 6
                                 .equ	TCNT2_7	= 7	; Timer/Counter 2 bit 7
                                 
                                 ; OCR2A - Timer/Counter2 Output Compare Register A
                                 .equ	OCR2A_0	= 0	; Timer/Counter2 Output Compare Register Bit 0
                                 .equ	OCR2A_1	= 1	; Timer/Counter2 Output Compare Register Bit 1
                                 .equ	OCR2A_2	= 2	; Timer/Counter2 Output Compare Register Bit 2
                                 .equ	OCR2A_3	= 3	; Timer/Counter2 Output Compare Register Bit 3
                                 .equ	OCR2A_4	= 4	; Timer/Counter2 Output Compare Register Bit 4
                                 .equ	OCR2A_5	= 5	; Timer/Counter2 Output Compare Register Bit 5
                                 .equ	OCR2A_6	= 6	; Timer/Counter2 Output Compare Register Bit 6
                                 .equ	OCR2A_7	= 7	; Timer/Counter2 Output Compare Register Bit 7
                                 
                                 ; OCR2B - Timer/Counter2 Output Compare Register B
                                 .equ	OCR2B_0	= 0	; Timer/Counter2 Output Compare Register Bit 0
                                 .equ	OCR2B_1	= 1	; Timer/Counter2 Output Compare Register Bit 1
                                 .equ	OCR2B_2	= 2	; Timer/Counter2 Output Compare Register Bit 2
                                 .equ	OCR2B_3	= 3	; Timer/Counter2 Output Compare Register Bit 3
                                 .equ	OCR2B_4	= 4	; Timer/Counter2 Output Compare Register Bit 4
                                 .equ	OCR2B_5	= 5	; Timer/Counter2 Output Compare Register Bit 5
                                 .equ	OCR2B_6	= 6	; Timer/Counter2 Output Compare Register Bit 6
                                 .equ	OCR2B_7	= 7	; Timer/Counter2 Output Compare Register Bit 7
                                 
                                 ; ASSR - Asynchronous Status Register
                                 .equ	TCR2BUB	= 0	; Timer/Counter Control Register2 Update Busy
                                 .equ	TCR2AUB	= 1	; Timer/Counter Control Register2 Update Busy
                                 .equ	OCR2BUB	= 2	; Output Compare Register 2 Update Busy
                                 .equ	OCR2AUB	= 3	; Output Compare Register2 Update Busy
                                 .equ	TCN2UB	= 4	; Timer/Counter2 Update Busy
                                 .equ	AS2	= 5	; Asynchronous Timer/Counter2
                                 .equ	EXCLK	= 6	; Enable External Clock Input
                                 
                                 ; GTCCR - General Timer Counter Control register
                                 .equ	PSRASY	= 1	; Prescaler Reset Timer/Counter2
                                 .equ	PSR2	= PSRASY	; For compatibility
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 
                                 ; ***** AD_CONVERTER *****************
                                 ; ADMUX - The ADC multiplexer Selection Register
                                 .equ	MUX0	= 0	; Analog Channel and Gain Selection Bits
                                 .equ	MUX1	= 1	; Analog Channel and Gain Selection Bits
                                 .equ	MUX2	= 2	; Analog Channel and Gain Selection Bits
                                 .equ	MUX3	= 3	; Analog Channel and Gain Selection Bits
                                 .equ	ADLAR	= 5	; Left Adjust Result
                                 .equ	REFS0	= 6	; Reference Selection Bit 0
                                 .equ	REFS1	= 7	; Reference Selection Bit 1
                                 
                                 ; ADCSRA - The ADC Control and Status register A
                                 .equ	ADPS0	= 0	; ADC  Prescaler Select Bits
                                 .equ	ADPS1	= 1	; ADC  Prescaler Select Bits
                                 .equ	ADPS2	= 2	; ADC  Prescaler Select Bits
                                 .equ	ADIE	= 3	; ADC Interrupt Enable
                                 .equ	ADIF	= 4	; ADC Interrupt Flag
                                 .equ	ADATE	= 5	; ADC  Auto Trigger Enable
                                 .equ	ADSC	= 6	; ADC Start Conversion
                                 .equ	ADEN	= 7	; ADC Enable
                                 
                                 ; ADCSRB - The ADC Control and Status register B
                                 .equ	ADTS0	= 0	; ADC Auto Trigger Source bit 0
                                 .equ	ADTS1	= 1	; ADC Auto Trigger Source bit 1
                                 .equ	ADTS2	= 2	; ADC Auto Trigger Source bit 2
                                 .equ	ACME	= 6	; 
                                 
                                 ; ADCH - ADC Data Register High Byte
                                 .equ	ADCH0	= 0	; ADC Data Register High Byte Bit 0
                                 .equ	ADCH1	= 1	; ADC Data Register High Byte Bit 1
                                 .equ	ADCH2	= 2	; ADC Data Register High Byte Bit 2
                                 .equ	ADCH3	= 3	; ADC Data Register High Byte Bit 3
                                 .equ	ADCH4	= 4	; ADC Data Register High Byte Bit 4
                                 .equ	ADCH5	= 5	; ADC Data Register High Byte Bit 5
                                 .equ	ADCH6	= 6	; ADC Data Register High Byte Bit 6
                                 .equ	ADCH7	= 7	; ADC Data Register High Byte Bit 7
                                 
                                 ; ADCL - ADC Data Register Low Byte
                                 .equ	ADCL0	= 0	; ADC Data Register Low Byte Bit 0
                                 .equ	ADCL1	= 1	; ADC Data Register Low Byte Bit 1
                                 .equ	ADCL2	= 2	; ADC Data Register Low Byte Bit 2
                                 .equ	ADCL3	= 3	; ADC Data Register Low Byte Bit 3
                                 .equ	ADCL4	= 4	; ADC Data Register Low Byte Bit 4
                                 .equ	ADCL5	= 5	; ADC Data Register Low Byte Bit 5
                                 .equ	ADCL6	= 6	; ADC Data Register Low Byte Bit 6
                                 .equ	ADCL7	= 7	; ADC Data Register Low Byte Bit 7
                                 
                                 ; DIDR0 - Digital Input Disable Register
                                 .equ	ADC0D	= 0	; 
                                 .equ	ADC1D	= 1	; 
                                 .equ	ADC2D	= 2	; 
                                 .equ	ADC3D	= 3	; 
                                 .equ	ADC4D	= 4	; 
                                 .equ	ADC5D	= 5	; 
                                 
                                 
                                 ; ***** ANALOG_COMPARATOR ************
                                 ; ACSR - Analog Comparator Control And Status Register
                                 .equ	ACIS0	= 0	; Analog Comparator Interrupt Mode Select bit 0
                                 .equ	ACIS1	= 1	; Analog Comparator Interrupt Mode Select bit 1
                                 .equ	ACIC	= 2	; Analog Comparator Input Capture Enable
                                 .equ	ACIE	= 3	; Analog Comparator Interrupt Enable
                                 .equ	ACI	= 4	; Analog Comparator Interrupt Flag
                                 .equ	ACO	= 5	; Analog Compare Output
                                 .equ	ACBG	= 6	; Analog Comparator Bandgap Select
                                 .equ	ACD	= 7	; Analog Comparator Disable
                                 
                                 ; DIDR1 - Digital Input Disable Register 1
                                 .equ	AIN0D	= 0	; AIN0 Digital Input Disable
                                 .equ	AIN1D	= 1	; AIN1 Digital Input Disable
                                 
                                 
                                 ; ***** PORTB ************************
                                 ; PORTB - Port B Data Register
                                 .equ	PORTB0	= 0	; Port B Data Register bit 0
                                 .equ	PB0	= 0	; For compatibility
                                 .equ	PORTB1	= 1	; Port B Data Register bit 1
                                 .equ	PB1	= 1	; For compatibility
                                 .equ	PORTB2	= 2	; Port B Data Register bit 2
                                 .equ	PB2	= 2	; For compatibility
                                 .equ	PORTB3	= 3	; Port B Data Register bit 3
                                 .equ	PB3	= 3	; For compatibility
                                 .equ	PORTB4	= 4	; Port B Data Register bit 4
                                 .equ	PB4	= 4	; For compatibility
                                 .equ	PORTB5	= 5	; Port B Data Register bit 5
                                 .equ	PB5	= 5	; For compatibility
                                 .equ	PORTB6	= 6	; Port B Data Register bit 6
                                 .equ	PB6	= 6	; For compatibility
                                 .equ	PORTB7	= 7	; Port B Data Register bit 7
                                 .equ	PB7	= 7	; For compatibility
                                 
                                 ; DDRB - Port B Data Direction Register
                                 .equ	DDB0	= 0	; Port B Data Direction Register bit 0
                                 .equ	DDB1	= 1	; Port B Data Direction Register bit 1
                                 .equ	DDB2	= 2	; Port B Data Direction Register bit 2
                                 .equ	DDB3	= 3	; Port B Data Direction Register bit 3
                                 .equ	DDB4	= 4	; Port B Data Direction Register bit 4
                                 .equ	DDB5	= 5	; Port B Data Direction Register bit 5
                                 .equ	DDB6	= 6	; Port B Data Direction Register bit 6
                                 .equ	DDB7	= 7	; Port B Data Direction Register bit 7
                                 
                                 ; PINB - Port B Input Pins
                                 .equ	PINB0	= 0	; Port B Input Pins bit 0
                                 .equ	PINB1	= 1	; Port B Input Pins bit 1
                                 .equ	PINB2	= 2	; Port B Input Pins bit 2
                                 .equ	PINB3	= 3	; Port B Input Pins bit 3
                                 .equ	PINB4	= 4	; Port B Input Pins bit 4
                                 .equ	PINB5	= 5	; Port B Input Pins bit 5
                                 .equ	PINB6	= 6	; Port B Input Pins bit 6
                                 .equ	PINB7	= 7	; Port B Input Pins bit 7
                                 
                                 
                                 ; ***** PORTC ************************
                                 ; PORTC - Port C Data Register
                                 .equ	PORTC0	= 0	; Port C Data Register bit 0
                                 .equ	PC0	= 0	; For compatibility
                                 .equ	PORTC1	= 1	; Port C Data Register bit 1
                                 .equ	PC1	= 1	; For compatibility
                                 .equ	PORTC2	= 2	; Port C Data Register bit 2
                                 .equ	PC2	= 2	; For compatibility
                                 .equ	PORTC3	= 3	; Port C Data Register bit 3
                                 .equ	PC3	= 3	; For compatibility
                                 .equ	PORTC4	= 4	; Port C Data Register bit 4
                                 .equ	PC4	= 4	; For compatibility
                                 .equ	PORTC5	= 5	; Port C Data Register bit 5
                                 .equ	PC5	= 5	; For compatibility
                                 .equ	PORTC6	= 6	; Port C Data Register bit 6
                                 .equ	PC6	= 6	; For compatibility
                                 
                                 ; DDRC - Port C Data Direction Register
                                 .equ	DDC0	= 0	; Port C Data Direction Register bit 0
                                 .equ	DDC1	= 1	; Port C Data Direction Register bit 1
                                 .equ	DDC2	= 2	; Port C Data Direction Register bit 2
                                 .equ	DDC3	= 3	; Port C Data Direction Register bit 3
                                 .equ	DDC4	= 4	; Port C Data Direction Register bit 4
                                 .equ	DDC5	= 5	; Port C Data Direction Register bit 5
                                 .equ	DDC6	= 6	; Port C Data Direction Register bit 6
                                 
                                 ; PINC - Port C Input Pins
                                 .equ	PINC0	= 0	; Port C Input Pins bit 0
                                 .equ	PINC1	= 1	; Port C Input Pins bit 1
                                 .equ	PINC2	= 2	; Port C Input Pins bit 2
                                 .equ	PINC3	= 3	; Port C Input Pins bit 3
                                 .equ	PINC4	= 4	; Port C Input Pins bit 4
                                 .equ	PINC5	= 5	; Port C Input Pins bit 5
                                 .equ	PINC6	= 6	; Port C Input Pins bit 6
                                 
                                 
                                 ; ***** PORTD ************************
                                 ; PORTD - Port D Data Register
                                 .equ	PORTD0	= 0	; Port D Data Register bit 0
                                 .equ	PD0	= 0	; For compatibility
                                 .equ	PORTD1	= 1	; Port D Data Register bit 1
                                 .equ	PD1	= 1	; For compatibility
                                 .equ	PORTD2	= 2	; Port D Data Register bit 2
                                 .equ	PD2	= 2	; For compatibility
                                 .equ	PORTD3	= 3	; Port D Data Register bit 3
                                 .equ	PD3	= 3	; For compatibility
                                 .equ	PORTD4	= 4	; Port D Data Register bit 4
                                 .equ	PD4	= 4	; For compatibility
                                 .equ	PORTD5	= 5	; Port D Data Register bit 5
                                 .equ	PD5	= 5	; For compatibility
                                 .equ	PORTD6	= 6	; Port D Data Register bit 6
                                 .equ	PD6	= 6	; For compatibility
                                 .equ	PORTD7	= 7	; Port D Data Register bit 7
                                 .equ	PD7	= 7	; For compatibility
                                 
                                 ; DDRD - Port D Data Direction Register
                                 .equ	DDD0	= 0	; Port D Data Direction Register bit 0
                                 .equ	DDD1	= 1	; Port D Data Direction Register bit 1
                                 .equ	DDD2	= 2	; Port D Data Direction Register bit 2
                                 .equ	DDD3	= 3	; Port D Data Direction Register bit 3
                                 .equ	DDD4	= 4	; Port D Data Direction Register bit 4
                                 .equ	DDD5	= 5	; Port D Data Direction Register bit 5
                                 .equ	DDD6	= 6	; Port D Data Direction Register bit 6
                                 .equ	DDD7	= 7	; Port D Data Direction Register bit 7
                                 
                                 ; PIND - Port D Input Pins
                                 .equ	PIND0	= 0	; Port D Input Pins bit 0
                                 .equ	PIND1	= 1	; Port D Input Pins bit 1
                                 .equ	PIND2	= 2	; Port D Input Pins bit 2
                                 .equ	PIND3	= 3	; Port D Input Pins bit 3
                                 .equ	PIND4	= 4	; Port D Input Pins bit 4
                                 .equ	PIND5	= 5	; Port D Input Pins bit 5
                                 .equ	PIND6	= 6	; Port D Input Pins bit 6
                                 .equ	PIND7	= 7	; Port D Input Pins bit 7
                                 
                                 
                                 ; ***** TIMER_COUNTER_0 **************
                                 ; TIMSK0 - Timer/Counter0 Interrupt Mask Register
                                 .equ	TOIE0	= 0	; Timer/Counter0 Overflow Interrupt Enable
                                 .equ	OCIE0A	= 1	; Timer/Counter0 Output Compare Match A Interrupt Enable
                                 .equ	OCIE0B	= 2	; Timer/Counter0 Output Compare Match B Interrupt Enable
                                 
                                 ; TIFR0 - Timer/Counter0 Interrupt Flag register
                                 .equ	TOV0	= 0	; Timer/Counter0 Overflow Flag
                                 .equ	OCF0A	= 1	; Timer/Counter0 Output Compare Flag 0A
                                 .equ	OCF0B	= 2	; Timer/Counter0 Output Compare Flag 0B
                                 
                                 ; TCCR0A - Timer/Counter  Control Register A
                                 .equ	WGM00	= 0	; Waveform Generation Mode
                                 .equ	WGM01	= 1	; Waveform Generation Mode
                                 .equ	COM0B0	= 4	; Compare Output Mode, Fast PWm
                                 .equ	COM0B1	= 5	; Compare Output Mode, Fast PWm
                                 .equ	COM0A0	= 6	; Compare Output Mode, Phase Correct PWM Mode
                                 .equ	COM0A1	= 7	; Compare Output Mode, Phase Correct PWM Mode
                                 
                                 ; TCCR0B - Timer/Counter Control Register B
                                 .equ	CS00	= 0	; Clock Select
                                 .equ	CS01	= 1	; Clock Select
                                 .equ	CS02	= 2	; Clock Select
                                 .equ	WGM02	= 3	; 
                                 .equ	FOC0B	= 6	; Force Output Compare B
                                 .equ	FOC0A	= 7	; Force Output Compare A
                                 
                                 ; TCNT0 - Timer/Counter0
                                 .equ	TCNT0_0	= 0	; 
                                 .equ	TCNT0_1	= 1	; 
                                 .equ	TCNT0_2	= 2	; 
                                 .equ	TCNT0_3	= 3	; 
                                 .equ	TCNT0_4	= 4	; 
                                 .equ	TCNT0_5	= 5	; 
                                 .equ	TCNT0_6	= 6	; 
                                 .equ	TCNT0_7	= 7	; 
                                 
                                 ; OCR0A - Timer/Counter0 Output Compare Register
                                 .equ	OCR0A_0	= 0	; 
                                 .equ	OCR0A_1	= 1	; 
                                 .equ	OCR0A_2	= 2	; 
                                 .equ	OCR0A_3	= 3	; 
                                 .equ	OCR0A_4	= 4	; 
                                 .equ	OCR0A_5	= 5	; 
                                 .equ	OCR0A_6	= 6	; 
                                 .equ	OCR0A_7	= 7	; 
                                 
                                 ; OCR0B - Timer/Counter0 Output Compare Register
                                 .equ	OCR0B_0	= 0	; 
                                 .equ	OCR0B_1	= 1	; 
                                 .equ	OCR0B_2	= 2	; 
                                 .equ	OCR0B_3	= 3	; 
                                 .equ	OCR0B_4	= 4	; 
                                 .equ	OCR0B_5	= 5	; 
                                 .equ	OCR0B_6	= 6	; 
                                 .equ	OCR0B_7	= 7	; 
                                 
                                 ; GTCCR - General Timer/Counter Control Register
                                 ;.equ	PSRSYNC	= 0	; Prescaler Reset Timer/Counter1 and Timer/Counter0
                                 .equ	PSR10	= PSRSYNC	; For compatibility
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 
                                 ; ***** EXTERNAL_INTERRUPT ***********
                                 ; EICRA - External Interrupt Control Register
                                 .equ	ISC00	= 0	; External Interrupt Sense Control 0 Bit 0
                                 .equ	ISC01	= 1	; External Interrupt Sense Control 0 Bit 1
                                 .equ	ISC10	= 2	; External Interrupt Sense Control 1 Bit 0
                                 .equ	ISC11	= 3	; External Interrupt Sense Control 1 Bit 1
                                 
                                 ; EIMSK - External Interrupt Mask Register
                                 .equ	INT0	= 0	; External Interrupt Request 0 Enable
                                 .equ	INT1	= 1	; External Interrupt Request 1 Enable
                                 
                                 ; EIFR - External Interrupt Flag Register
                                 .equ	INTF0	= 0	; External Interrupt Flag 0
                                 .equ	INTF1	= 1	; External Interrupt Flag 1
                                 
                                 ; PCICR - Pin Change Interrupt Control Register
                                 .equ	PCIE0	= 0	; Pin Change Interrupt Enable 0
                                 .equ	PCIE1	= 1	; Pin Change Interrupt Enable 1
                                 .equ	PCIE2	= 2	; Pin Change Interrupt Enable 2
                                 
                                 ; PCMSK2 - Pin Change Mask Register 2
                                 .equ	PCINT16	= 0	; Pin Change Enable Mask 16
                                 .equ	PCINT17	= 1	; Pin Change Enable Mask 17
                                 .equ	PCINT18	= 2	; Pin Change Enable Mask 18
                                 .equ	PCINT19	= 3	; Pin Change Enable Mask 19
                                 .equ	PCINT20	= 4	; Pin Change Enable Mask 20
                                 .equ	PCINT21	= 5	; Pin Change Enable Mask 21
                                 .equ	PCINT22	= 6	; Pin Change Enable Mask 22
                                 .equ	PCINT23	= 7	; Pin Change Enable Mask 23
                                 
                                 ; PCMSK1 - Pin Change Mask Register 1
                                 .equ	PCINT8	= 0	; Pin Change Enable Mask 8
                                 .equ	PCINT9	= 1	; Pin Change Enable Mask 9
                                 .equ	PCINT10	= 2	; Pin Change Enable Mask 10
                                 .equ	PCINT11	= 3	; Pin Change Enable Mask 11
                                 .equ	PCINT12	= 4	; Pin Change Enable Mask 12
                                 .equ	PCINT13	= 5	; Pin Change Enable Mask 13
                                 .equ	PCINT14	= 6	; Pin Change Enable Mask 14
                                 
                                 ; PCMSK0 - Pin Change Mask Register 0
                                 .equ	PCINT0	= 0	; Pin Change Enable Mask 0
                                 .equ	PCINT1	= 1	; Pin Change Enable Mask 1
                                 .equ	PCINT2	= 2	; Pin Change Enable Mask 2
                                 .equ	PCINT3	= 3	; Pin Change Enable Mask 3
                                 .equ	PCINT4	= 4	; Pin Change Enable Mask 4
                                 .equ	PCINT5	= 5	; Pin Change Enable Mask 5
                                 .equ	PCINT6	= 6	; Pin Change Enable Mask 6
                                 .equ	PCINT7	= 7	; Pin Change Enable Mask 7
                                 
                                 ; PCIFR - Pin Change Interrupt Flag Register
                                 .equ	PCIF0	= 0	; Pin Change Interrupt Flag 0
                                 .equ	PCIF1	= 1	; Pin Change Interrupt Flag 1
                                 .equ	PCIF2	= 2	; Pin Change Interrupt Flag 2
                                 
                                 
                                 ; ***** SPI **************************
                                 ; SPDR - SPI Data Register
                                 .equ	SPDR0	= 0	; SPI Data Register bit 0
                                 .equ	SPDR1	= 1	; SPI Data Register bit 1
                                 .equ	SPDR2	= 2	; SPI Data Register bit 2
                                 .equ	SPDR3	= 3	; SPI Data Register bit 3
                                 .equ	SPDR4	= 4	; SPI Data Register bit 4
                                 .equ	SPDR5	= 5	; SPI Data Register bit 5
                                 .equ	SPDR6	= 6	; SPI Data Register bit 6
                                 .equ	SPDR7	= 7	; SPI Data Register bit 7
                                 
                                 ; SPSR - SPI Status Register
                                 .equ	SPI2X	= 0	; Double SPI Speed Bit
                                 .equ	WCOL	= 6	; Write Collision Flag
                                 .equ	SPIF	= 7	; SPI Interrupt Flag
                                 
                                 ; SPCR - SPI Control Register
                                 .equ	SPR0	= 0	; SPI Clock Rate Select 0
                                 .equ	SPR1	= 1	; SPI Clock Rate Select 1
                                 .equ	CPHA	= 2	; Clock Phase
                                 .equ	CPOL	= 3	; Clock polarity
                                 .equ	MSTR	= 4	; Master/Slave Select
                                 .equ	DORD	= 5	; Data Order
                                 .equ	SPE	= 6	; SPI Enable
                                 .equ	SPIE	= 7	; SPI Interrupt Enable
                                 
                                 
                                 ; ***** WATCHDOG *********************
                                 ; WDTCSR - Watchdog Timer Control Register
                                 .equ	WDP0	= 0	; Watch Dog Timer Prescaler bit 0
                                 .equ	WDP1	= 1	; Watch Dog Timer Prescaler bit 1
                                 .equ	WDP2	= 2	; Watch Dog Timer Prescaler bit 2
                                 .equ	WDE	= 3	; Watch Dog Enable
                                 .equ	WDCE	= 4	; Watchdog Change Enable
                                 .equ	WDP3	= 5	; Watchdog Timer Prescaler Bit 3
                                 .equ	WDIE	= 6	; Watchdog Timeout Interrupt Enable
                                 .equ	WDIF	= 7	; Watchdog Timeout Interrupt Flag
                                 
                                 
                                 ; ***** CPU **************************
                                 ; SREG - Status Register
                                 .equ	SREG_C	= 0	; Carry Flag
                                 .equ	SREG_Z	= 1	; Zero Flag
                                 .equ	SREG_N	= 2	; Negative Flag
                                 .equ	SREG_V	= 3	; Two's Complement Overflow Flag
                                 .equ	SREG_S	= 4	; Sign Bit
                                 .equ	SREG_H	= 5	; Half Carry Flag
                                 .equ	SREG_T	= 6	; Bit Copy Storage
                                 .equ	SREG_I	= 7	; Global Interrupt Enable
                                 
                                 ; OSCCAL - Oscillator Calibration Value
                                 .equ	CAL0	= 0	; Oscillator Calibration Value Bit0
                                 .equ	CAL1	= 1	; Oscillator Calibration Value Bit1
                                 .equ	CAL2	= 2	; Oscillator Calibration Value Bit2
                                 .equ	CAL3	= 3	; Oscillator Calibration Value Bit3
                                 .equ	CAL4	= 4	; Oscillator Calibration Value Bit4
                                 .equ	CAL5	= 5	; Oscillator Calibration Value Bit5
                                 .equ	CAL6	= 6	; Oscillator Calibration Value Bit6
                                 .equ	CAL7	= 7	; Oscillator Calibration Value Bit7
                                 
                                 ; CLKPR - Clock Prescale Register
                                 .equ	CLKPS0	= 0	; Clock Prescaler Select Bit 0
                                 .equ	CLKPS1	= 1	; Clock Prescaler Select Bit 1
                                 .equ	CLKPS2	= 2	; Clock Prescaler Select Bit 2
                                 .equ	CLKPS3	= 3	; Clock Prescaler Select Bit 3
                                 .equ	CLKPCE	= 7	; Clock Prescaler Change Enable
                                 
                                 ; SPMCSR - Store Program Memory Control and Status Register
                                 .equ    SELFPRGEN = 0; Added for backwards compatibility
                                 .equ	SPMEN	= 0	; Store Program Memory
                                 .equ	PGERS	= 1	; Page Erase
                                 .equ	PGWRT	= 2	; Page Write
                                 .equ	BLBSET	= 3	; Boot Lock Bit Set
                                 .equ	RWWSRE	= 4	; Read-While-Write section read enable
                                 .equ    SIGRD   = 5 ; Signature Row Read
                                 .equ	RWWSB	= 6	; Read-While-Write Section Busy
                                 .equ	SPMIE	= 7	; SPM Interrupt Enable
                                 
                                 ; MCUCR - MCU Control Register
                                 .equ	IVCE	= 0	; 
                                 .equ	IVSEL	= 1	; 
                                 .equ	PUD	= 4	; 
                                 .equ	BODSE	= 5	; BOD Sleep Enable
                                 .equ	BODS	= 6	; BOD Sleep
                                 
                                 ; MCUSR - MCU Status Register
                                 .equ	PORF	= 0	; Power-on reset flag
                                 .equ	EXTRF	= 1	; External Reset Flag
                                 .equ	EXTREF	= EXTRF	; For compatibility
                                 .equ	BORF	= 2	; Brown-out Reset Flag
                                 .equ	WDRF	= 3	; Watchdog Reset Flag
                                 
                                 ; SMCR - Sleep Mode Control Register
                                 .equ	SE	= 0	; Sleep Enable
                                 .equ	SM0	= 1	; Sleep Mode Select Bit 0
                                 .equ	SM1	= 2	; Sleep Mode Select Bit 1
                                 .equ	SM2	= 3	; Sleep Mode Select Bit 2
                                 
                                 ; GPIOR2 - General Purpose I/O Register 2
                                 .equ	GPIOR20	= 0	; 
                                 .equ	GPIOR21	= 1	; 
                                 .equ	GPIOR22	= 2	; 
                                 .equ	GPIOR23	= 3	; 
                                 .equ	GPIOR24	= 4	; 
                                 .equ	GPIOR25	= 5	; 
                                 .equ	GPIOR26	= 6	; 
                                 .equ	GPIOR27	= 7	; 
                                 
                                 ; GPIOR1 - General Purpose I/O Register 1
                                 .equ	GPIOR10	= 0	; 
                                 .equ	GPIOR11	= 1	; 
                                 .equ	GPIOR12	= 2	; 
                                 .equ	GPIOR13	= 3	; 
                                 .equ	GPIOR14	= 4	; 
                                 .equ	GPIOR15	= 5	; 
                                 .equ	GPIOR16	= 6	; 
                                 .equ	GPIOR17	= 7	; 
                                 
                                 ; GPIOR0 - General Purpose I/O Register 0
                                 .equ	GPIOR00	= 0	; 
                                 .equ	GPIOR01	= 1	; 
                                 .equ	GPIOR02	= 2	; 
                                 .equ	GPIOR03	= 3	; 
                                 .equ	GPIOR04	= 4	; 
                                 .equ	GPIOR05	= 5	; 
                                 .equ	GPIOR06	= 6	; 
                                 .equ	GPIOR07	= 7	; 
                                 
                                 ; PRR - Power Reduction Register
                                 .equ	PRADC	= 0	; Power Reduction ADC
                                 .equ	PRUSART0	= 1	; Power Reduction USART
                                 .equ	PRSPI	= 2	; Power Reduction Serial Peripheral Interface
                                 .equ	PRTIM1	= 3	; Power Reduction Timer/Counter1
                                 .equ	PRTIM0	= 5	; Power Reduction Timer/Counter0
                                 .equ	PRTIM2	= 6	; Power Reduction Timer/Counter2
                                 .equ	PRTWI	= 7	; Power Reduction TWI
                                 
                                 
                                 ; ***** EEPROM ***********************
                                 ; EEARL - EEPROM Address Register Low Byte
                                 .equ	EEAR0	= 0	; EEPROM Read/Write Access Bit 0
                                 .equ	EEAR1	= 1	; EEPROM Read/Write Access Bit 1
                                 .equ	EEAR2	= 2	; EEPROM Read/Write Access Bit 2
                                 .equ	EEAR3	= 3	; EEPROM Read/Write Access Bit 3
                                 .equ	EEAR4	= 4	; EEPROM Read/Write Access Bit 4
                                 .equ	EEAR5	= 5	; EEPROM Read/Write Access Bit 5
                                 .equ	EEAR6	= 6	; EEPROM Read/Write Access Bit 6
                                 .equ	EEAR7	= 7	; EEPROM Read/Write Access Bit 7
                                 
                                 ; EEARH - EEPROM Address Register High Byte
                                 .equ	EEAR8	= 0	; EEPROM Read/Write Access Bit 8
                                 .equ	EEAR9	= 1	; EEPROM Read/Write Access Bit 9
                                 
                                 ; EEDR - EEPROM Data Register
                                 .equ	EEDR0	= 0	; EEPROM Data Register bit 0
                                 .equ	EEDR1	= 1	; EEPROM Data Register bit 1
                                 .equ	EEDR2	= 2	; EEPROM Data Register bit 2
                                 .equ	EEDR3	= 3	; EEPROM Data Register bit 3
                                 .equ	EEDR4	= 4	; EEPROM Data Register bit 4
                                 .equ	EEDR5	= 5	; EEPROM Data Register bit 5
                                 .equ	EEDR6	= 6	; EEPROM Data Register bit 6
                                 .equ	EEDR7	= 7	; EEPROM Data Register bit 7
                                 
                                 ; EECR - EEPROM Control Register
                                 .equ	EERE	= 0	; EEPROM Read Enable
                                 .equ	EEPE	= 1	; EEPROM Write Enable
                                 .equ	EEMPE	= 2	; EEPROM Master Write Enable
                                 .equ	EERIE	= 3	; EEPROM Ready Interrupt Enable
                                 .equ	EEPM0	= 4	; EEPROM Programming Mode Bit 0
                                 .equ	EEPM1	= 5	; EEPROM Programming Mode Bit 1
                                 
                                 
                                 
                                 ; ***** LOCKSBITS ********************************************************
                                 .equ	LB1	= 0	; Lock bit
                                 .equ	LB2	= 1	; Lock bit
                                 .equ	BLB01	= 2	; Boot Lock bit
                                 .equ	BLB02	= 3	; Boot Lock bit
                                 .equ	BLB11	= 4	; Boot lock bit
                                 .equ	BLB12	= 5	; Boot lock bit
                                 
                                 
                                 ; ***** FUSES ************************************************************
                                 ; LOW fuse bits
                                 .equ	CKSEL0	= 0	; Select Clock Source
                                 .equ	CKSEL1	= 1	; Select Clock Source
                                 .equ	CKSEL2	= 2	; Select Clock Source
                                 .equ	CKSEL3	= 3	; Select Clock Source
                                 .equ	SUT0	= 4	; Select start-up time
                                 .equ	SUT1	= 5	; Select start-up time
                                 .equ	CKOUT	= 6	; Clock output
                                 .equ	CKDIV8	= 7	; Divide clock by 8
                                 
                                 ; HIGH fuse bits
                                 .equ	BOOTRST	= 0	; Select reset vector
                                 .equ	BOOTSZ0	= 1	; Select boot size
                                 .equ	BOOTSZ1	= 2	; Select boot size
                                 .equ	EESAVE	= 3	; EEPROM memory is preserved through chip erase
                                 .equ	WDTON	= 4	; Watchdog Timer Always On
                                 .equ	SPIEN	= 5	; Enable Serial programming and Data Downloading
                                 .equ	DWEN	= 6	; debugWIRE Enable
                                 .equ	RSTDISBL	= 7	; External reset disable
                                 
                                 ; EXTENDED fuse bits
                                 .equ	BODLEVEL0	= 0	; Brown-out Detector trigger level
                                 .equ	BODLEVEL1	= 1	; Brown-out Detector trigger level
                                 .equ	BODLEVEL2	= 2	; Brown-out Detector trigger level
                                 
                                 
                                 
                                 ; ***** CPU REGISTER DEFINITIONS *****************************************
                                 .def	XH	= r27
                                 .def	XL	= r26
                                 .def	YH	= r29
                                 .def	YL	= r28
                                 .def	ZH	= r31
                                 .def	ZL	= r30
                                 
                                 
                                 
                                 ; ***** DATA MEMORY DECLARATIONS *****************************************
                                 .equ	FLASHEND	= 0x3fff	; Note: Word address
                                 .equ	IOEND	= 0x00ff
                                 .equ	SRAM_START	= 0x0100
                                 .equ	SRAM_SIZE	= 2048
                                 .equ	RAMEND	= 0x08ff
                                 .equ	XRAMEND	= 0x0000
                                 .equ	E2END	= 0x03ff
                                 .equ	EEPROMEND	= 0x03ff
                                 .equ	EEADRBITS	= 10
                                 #pragma AVRPART MEMORY PROG_FLASH 32768
                                 #pragma AVRPART MEMORY EEPROM 1024
                                 #pragma AVRPART MEMORY INT_SRAM SIZE 2048
                                 #pragma AVRPART MEMORY INT_SRAM START_ADDR 0x100
                                 
                                 
                                 
                                 ; ***** BOOTLOADER DECLARATIONS ******************************************
                                 .equ	NRWW_START_ADDR	= 0x3800
                                 .equ	NRWW_STOP_ADDR	= 0x3fff
                                 .equ	RWW_START_ADDR	= 0x0
                                 .equ	RWW_STOP_ADDR	= 0x37ff
                                 .equ	PAGESIZE	= 64
                                 .equ	FIRSTBOOTSTART	= 0x3f00
                                 .equ	SECONDBOOTSTART	= 0x3e00
                                 .equ	THIRDBOOTSTART	= 0x3c00
                                 .equ	FOURTHBOOTSTART	= 0x3800
                                 .equ	SMALLBOOTSTART	= FIRSTBOOTSTART
                                 .equ	LARGEBOOTSTART	= FOURTHBOOTSTART
                                 
                                 
                                 
                                 ; ***** INTERRUPT VECTORS ************************************************
                                 .equ	INT0addr	= 0x0002	; External Interrupt Request 0
                                 .equ	INT1addr	= 0x0004	; External Interrupt Request 1
                                 .equ	PCI0addr	= 0x0006	; Pin Change Interrupt Request 0
                                 .equ	PCI1addr	= 0x0008	; Pin Change Interrupt Request 0
                                 .equ	PCI2addr	= 0x000a	; Pin Change Interrupt Request 1
                                 .equ	WDTaddr	= 0x000c	; Watchdog Time-out Interrupt
                                 .equ	OC2Aaddr	= 0x000e	; Timer/Counter2 Compare Match A
                                 .equ	OC2Baddr	= 0x0010	; Timer/Counter2 Compare Match A
                                 .equ	OVF2addr	= 0x0012	; Timer/Counter2 Overflow
                                 .equ	ICP1addr	= 0x0014	; Timer/Counter1 Capture Event
                                 .equ	OC1Aaddr	= 0x0016	; Timer/Counter1 Compare Match A
                                 .equ	OC1Baddr	= 0x0018	; Timer/Counter1 Compare Match B
                                 .equ	OVF1addr	= 0x001a	; Timer/Counter1 Overflow
                                 .equ	OC0Aaddr	= 0x001c	; TimerCounter0 Compare Match A
                                 .equ	OC0Baddr	= 0x001e	; TimerCounter0 Compare Match B
                                 .equ	OVF0addr	= 0x0020	; Timer/Couner0 Overflow
                                 .equ	SPIaddr	= 0x0022	; SPI Serial Transfer Complete
                                 .equ	URXCaddr	= 0x0024	; USART Rx Complete
                                 .equ	UDREaddr	= 0x0026	; USART, Data Register Empty
                                 .equ	UTXCaddr	= 0x0028	; USART Tx Complete
                                 .equ	ADCCaddr	= 0x002a	; ADC Conversion Complete
                                 .equ	ERDYaddr	= 0x002c	; EEPROM Ready
                                 .equ	ACIaddr	= 0x002e	; Analog Comparator
                                 .equ	TWIaddr	= 0x0030	; Two-wire Serial Interface
                                 .equ	SPMRaddr	= 0x0032	; Store Program Memory Read
                                 
                                 .equ	INT_VECTORS_SIZE	= 52	; size in words
                                 
                                 #endif  /* _M328PDEF_INC_ */
                                 
                                 ; ***** END OF FILE ******************************************************
                                 
                                 ; Universidad del Valle de Guatemala
                                 ; IE2023: Programacin de Microcontroladores
                                 ; Proyecto 1.asm
                                 ; Autor: Santiago Burgos
                                 ; Proyecto: Proyecto No. 1 - Reloj
                                 ; Hardware: ATMega328P
                                 ; Creado: 26/02/2024 6:57:26 p. m.
                                 ; Author : SANTIAGO
                                 
                                 
                                 ;**************************************************************************
                                 ; ENCABEZADO
                                 ;**************************************************************************
                                 .INCLUDE "M328PDEF.inc"
                                 
                                 ;***** Created: 2011-02-09 12:03 ******* Source: ATmega328P.xml **********
                                 ;*************************************************************************
                                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                                 ;* 
                                 ;* Number            : AVR000
                                 ;* File Name         : "m328Pdef.inc"
                                 ;* Title             : Register/Bit Definitions for the ATmega328P
                                 ;* Date              : 2011-02-09
                                 ;* Version           : 2.35
                                 ;* Support E-mail    : avr@atmel.com
                                 ;* Target MCU        : ATmega328P
                                 ;* 
                                 ;* DESCRIPTION
                                 ;* When including this file in the assembly program file, all I/O register 
                                 ;* names and I/O register bit names appearing in the data book can be used.
                                 ;* In addition, the six registers forming the three data pointers X, Y and 
                                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                                 ;* SRAM is also defined 
                                 ;* 
                                 ;* The Register names are represented by their hexadecimal address.
                                 ;* 
                                 ;* The Register Bit names are represented by their bit number (0-7).
                                 ;* 
                                 ;* Please observe the difference in using the bit names with instructions
                                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                                 ;* (skip if bit in register set/cleared). The following example illustrates
                                 ;* this:
                                 ;* 
                                 ;* in    r16,PORTB             ;read PORTB latch
                                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                                 ;* out   PORTB,r16             ;output to PORTB
                                 ;* 
                                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                                 ;* rjmp  TOV0_is_set           ;jump if set
                                 ;* ...                         ;otherwise do something else
                                 ;*************************************************************************
                                 
                                 #ifndef _M328PDEF_INC_
                                 #endif  /* _M328PDEF_INC_ */
                                 
                                 ; ***** END OF FILE ******************************************************
                                 .CSEG
                                 .ORG 0x0000
000000 940c 0022                 	JMP MAIN								;RESET VECTOR
                                 
                                 .ORG 0x0008
000008 940c 038b                 	JMP ISR_PCINT1							;VECTOR: PC_INT1
                                 
                                 .ORG 0X0020
000020 940c 0380                 	JMP ISR_TIMER0							;ISR: TIMER0 
                                 
                                 .DEF STATE_REG = R18
                                 .DEF MODE = R19
                                 
                                 
                                 ;**************************************************************************
                                 ; STACK POINTER
                                 ;**************************************************************************
                                 MAIN:
                                 
000022 ef0f                      	LDI R16, LOW(RAMEND)
000023 bf0d                      	OUT SPL, R16
000024 e018                      	LDI R17, HIGH(RAMEND)
000025 bf1e                      	OUT SPH, R17
                                 
000026 063f
000027 4f5b
000028 6d66
000029 077d
00002a 6f7f
00002b 5e76
00002c 6d77                      	D7SEG: .DB 0x3F,0x06,0x5B,0x4F,0x66,0x6D,0x7D,0x07,0x7F,0x6F,0x76,0x5E,0x77,0x6D
                                 
                                 ;**************************************************************************
                                 ; SETTINGS
                                 ;**************************************************************************
                                 
                                 SETUP: 
                                 
00002d e000                      	LDI		R16, 0b0000_0000	;
00002e 9300 00c1                 	STS		UCSR0B, R16			;DESABILITO TX Y RX
                                 
000030 27ee                      	CLR R30
000031 e0e0                      	LDI R30, 0
000032 e0f0                      	LDI ZH, HIGH(D7SEG << 1)
000033 e4ec                      	LDI ZL, LOW(D7SEG << 1)
000034 0fe5                      	ADD ZL, R21
000035 91e4                      	LPM R30, Z								; CALL FROM D7SEG
                                 
000036 e10f                      	LDI R16, (1 << PCINT12) | (1 << PCINT11) | (1 << PCINT10) | (1 << PCINT9) | (1 << PCINT8)
000037 9300 006c                 	STS PCMSK1, R16							;ISR PCINT FOR PB0 AND PB1
                                 
000039 e002                      	LDI R16, (1 << PCIE1)
00003a 9300 0068                 	STS PCICR, R16							;PIN CHANGE FOR PORTC
                                 	
                                 
00003c ef0f                      	LDI R16, $FF								
00003d b90a                      	OUT DDRD, R16							; ASSIGN PORTD AS AN OUTPUT
                                 
00003e e20f                      	LDI R16, $2F
00003f b904                      	OUT DDRB, R16							; ASSIGN PORTB AS AN OUTPUT (TRANSISTORS AND BUZZER)
                                 
000040 9a40                      	SBI PORTC, PC0							; PULLUP INC
000041 9838                      	CBI DDRC, PC0							; INDICA QUE ES ENTRADA SI Y SOLO SI VA CON CBI
                                 
000042 9a41                      	SBI PORTC, PC1							; PULLUP DEC
000043 9839                      	CBI DDRC, PC1							
                                 
000044 9a42                      	SBI PORTC, PC2							; PULLUP MODE
000045 983a                      	CBI DDRC, PC2							
                                 
000046 9a43                      	SBI PORTC, PC3							; PULLUP SETTINGS
000047 983b                      	CBI DDRC, PC3							
                                 
000048 9a44                      	SBI PORTC, PC4							; PULLUP ACTIVATE
000049 983c                      	CBI DDRC, PC4							
                                 
00004a 940e 0378                 	CALL INIT_T0							; START THE TIMER
00004c 9478                      	SEI										; ENABLE GLOBAL INTERRUPTIONS
                                 
00004d e010                      	LDI R17, 0								; PUERTOC
00004e e020                      	LDI STATE_REG, 0						; STATE VALUE
00004f e040                      	LDI R20, 0								; TIMER COUNTER
000050 e060                      	LDI R22, 0								; LSITA DEL VALORES PARA EL DISPLAY
000051 e070                      	LDI R23, 0								; CONTADOR PARA EL BLINCK DE 50 MS
000052 e0a0                      	LDI R26, 0								; PARA PREGUNTAR SI LOS DOS PUNTOS ESTAN ENCENDIDOS O APAGADOS
000053 e0e0                      	LDI R30, 0								; REGISTRO PIVOTE O MULTIPROPOSITO
                                 	
                                 
                                 ;LIBRES: R25, R28
                                 
                                 
                                 ;DISPLAY REGISTERS
000054 e030                      	LDI MODE, 0								; DISPLAY 1 / DISPLAY LIST / R19
000055 e050                      	LDI R21, 0								; DISPLAY 2 / MINUTE CLOCK
000056 e080                      	LDI R24, 0								; DISPLAY 3 / MINUTE CLOCK
000057 e0b0                      	LDI R27, 0								; DISPLAY 4 / HOUR CLOCK
000058 e0d0                      	LDI R29, 0								; DISPLAY 5 / HOUR CLOCK
                                 	
000059 e070                      	LDI R23, 0								; SECOND BY SECOND COUNTER
                                 	
                                 
00005a e0e0                      	LDI R30, 0
00005b 2e0e                      	MOV R0, R30								; REGISTRO PARA LA ALARMA DISPLAY 2
00005c e0e0                      	LDI R30, 0
00005d 2e1e                      	MOV R1, R30								; REGISTRO PARA LA ALARMA DISPLAY 3
00005e e0e0                      	LDI R30, 0 
00005f 2e2e                      	MOV R2, R30								; REGISTRO PARA LA ALARMA DISPLAY 4
000060 e0e0                      	LDI R30, 0
000061 2e3e                      	MOV R3, R30								; REGISTRO PARA LA ALARMA DISPLAY 5
                                 	
                                 
                                 
                                 
                                 ;**************************************************************************
                                 ; INFINITE LOOP
                                 ;**************************************************************************
                                 LOOP:
                                 
000062 ff20                      	SBRS STATE_REG, 0								; COMPARE VALUE OF STATE_REG IN BIT0
000063 940c 0067                 	JMP STATE_XXX0							
000065 940c 0071                 	JMP STATE_XXX1
                                 
                                 ;**************************************************************************
                                 ; STATES COMPARISON 
                                 ;**************************************************************************
                                 
                                 STATE_XXX0:
                                 	
000067 ff21                      	SBRS STATE_REG, 1
000068 940c 006c                 	JMP STATE_XX00
00006a 940c 0085                 	JMP STATE_XX10
                                 
                                 STATE_XX00: 
                                 
00006c ff22                      	SBRS STATE_REG, 2 
00006d 940c 0076                 	JMP STATE_X000 
00006f 940c 0097                 	JMP STATE_X100 
                                 
                                 STATE_XXX1:
                                 	
000071 ff21                      	SBRS STATE_REG, 1
000072 940c 007b                 	JMP STATE_XX01
000074 940c 008f                 	JMP STATE_XX11 
                                 
                                 STATE_X000:
                                  
000076 ff23                      	SBRS STATE_REG, 3 
000077 940c 00ae                 	JMP STATE_0000 
000079 940c 0159                 	JMP STATE_1000  
                                 
                                 STATE_XX01: 
                                 
00007b ff22                      	SBRS STATE_REG, 2 
00007c 940c 0080                 	JMP STATE_X001 
00007e 940c 009a                 	JMP STATE_X101 
                                 
                                 STATE_X001: 
                                 
000080 ff23                      	SBRS STATE_REG, 3
000081 940c 00e5                 	JMP STATE_0001 
000083 940c 0166                 	JMP STATE_1001
                                 
                                 STATE_XX10: 
                                 	
000085 ff22                      	SBRS STATE_REG, 2 
000086 940c 008a                 	JMP STATE_X010 
000088 940c 009f                 	JMP STATE_X110
                                 
                                 STATE_X010: 
                                 
00008a ff23                      	SBRS STATE_REG, 3
00008b 940c 00f3                 	JMP STATE_0010 
00008d 940c 0168                 	JMP STATE_1010
                                 
                                 STATE_XX11: 
                                 	
00008f ff22                      	SBRS STATE_REG, 2 
000090 940c 0094                 	JMP STATE_X011 
000092 940c 00a4                 	JMP STATE_X111 
                                 
                                 STATE_X011: 
                                 
000094 ff23                      	SBRS STATE_REG, 3
000095 940c 0101                 	JMP STATE_0011 
                                 
                                 STATE_X100: 
                                 
000097 ff23                      	SBRS STATE_REG, 3
000098 940c 0118                 	JMP STATE_0100 
                                 
                                 STATE_X101: 
                                 
00009a ff23                      	SBRS STATE_REG, 3
00009b 940c 0122                 	JMP STATE_0101 
00009d 940c 0062                 	JMP LOOP
                                 
                                 STATE_X110: 
                                 
00009f ff23                      	SBRS STATE_REG, 3 
0000a0 940c 0131                 	JMP STATE_0110
0000a2 940c 009a                 	JMP STATE_X101
                                 
                                 STATE_X111: 
                                 	
0000a4 ff23                      	SBRS STATE_REG, 3
0000a5 940c 014e                 	JMP STATE_0111 
0000a7 940c 0062                 	JMP LOOP
                                 
                                 ;**************************************************************************
                                 ; STATES
                                 ;************************************************************************** 
                                 COMPARE_STATE_0:
0000a9 ff20                      	SBRS STATE_REG, 0				; COMPARE VALUE OF STATE_REG IN BIT0
0000aa 940c 0067                 	JMP STATE_XXX0							
0000ac 940c 0071                 	JMP STATE_XXX1
                                 ;**************************************************************************
                                 
                                 STATE_0000:								; SHOWS HOUR AND LETTER H
                                 	
                                 
0000ae e03a                      	LDI MODE, 10		; SHOWS H
0000af 940e 02f3                 	CALL DISPLAY_1
                                 
0000b1 2733                      	CLR MODE
0000b2 2f35                      	MOV MODE, R21
0000b3 940e 030d                 	CALL DISPLAY_2		; SHOWS DISPLAY 2
                                 	
0000b5 2733                      	CLR MODE
0000b6 2f38                      	MOV MODE, R24
0000b7 940e 0326                 	CALL DISPLAY_3		; SHOWS DISPLAY 3
                                 		
                                 
0000b9 2733                      	CLR MODE 
0000ba 2f3b                      	MOV MODE, R27 
0000bb 940e 0340                 	CALL DISPLAY_4				; SHOWS DISPLAY 4
                                 
                                 
0000bd 2733                      	CLR MODE
0000be 2f3d                      	MOV MODE, R29
0000bf 940e 035e                 	CALL DISPLAY_5				; SHOWS DISPLAY 5
                                 	
0000c1 3342                      	CPI R20, 50					; COMPARADOR DEL TIMER, 50MS
0000c2 f731                      	BRNE COMPARE_STATE_0
0000c3 2744                      	CLR R20
0000c4 9a4f                      	SBI PIND, PD7
                                 
0000c5 9b5f                      	SBIS PORTD, PD7			; BLINK OF DP AT 50MS
0000c6 e0a0                      	LDI R26, 0b0000_0000
0000c7 995f                      	SBIC PORTD, PD7			; PREGUNTA SI LOS DOS BOTONES ESTAN ENCENDIDO O APAGADOS
0000c8 e8a0                      	LDI R26, 0b1000_0000
0000c9 9573                      	INC R23
                                 
0000ca 3778                      	CPI R23, 120				; COMPARE IF R23 BLINKED 2 TIMES = 1 SEC
0000cb f6e9                      	BRNE COMPARE_STATE_0
0000cc 2777                      	CLR R23
0000cd 9553                      	INC R21					; DISPLAY 2
                                 
0000ce 305a                      	CPI R21, 10				; COMPARES IF R21(DISPLAY2) CHANGED 10 TIMES= 10 SEC
0000cf f6c9                      	BRNE COMPARE_STATE_0
0000d0 2755                      	CLR R21
0000d1 9583                      	INC R24					; DISPLAY 3
                                 
0000d2 3086                      	CPI R24, 6				; COMPARES IF R24, (DISPLAY3) CHANGED 5 TIMES= 59==>00
0000d3 f6a9                      	BRNE COMPARE_STATE_0
0000d4 2788                      	CLR R24
0000d5 95b3                      	INC R27					; DISPLAY 4
                                 
0000d6 30ba                      	CPI R27, 10				; COMPARES IF R27(DISPLAY4) CHANGED 10 TIMES = HOURS
0000d7 f689                      	BRNE COMPARE_STATE_0
0000d8 27bb                      	CLR R27
0000d9 95d3                      	INC R29					; DISPLAY 5
                                 
0000da 30d2                      	CPI R29, 2
0000db f669                      	BRNE COMPARE_STATE_0
0000dc 27dd                      	CLR R29
0000dd e0d0                      	LDI R29, 0
                                 	;LDI R30, 0
                                 	;CPSE R8, R30
                                 	;JMP SET_AL_D2			;INTENTO PARA LA ALARMA 
                                 
0000de 940c 0062                 	JMP LOOP
                                 
                                 ;**************************************************************************
                                 COMPARE_STATE_1:
0000e0 ff20                      	SBRS STATE_REG, 0				; COMPARE VALUE OF STATE_REG IN BIT0
0000e1 940c 0067                 	JMP STATE_XXX0							
                                 
0000e3 940c 0071                 	JMP STATE_XXX1
                                 ;**************************************************************************
                                 STATE_0001:								; SEETINGS FOR MINUTES AND LETTER S
                                 
0000e5 9a5f                      	SBI PORTD, PD7		; DP DONT BLINK
                                 
0000e6 e03a                      	LDI MODE, 10
0000e7 940e 02f3                 	CALL DISPLAY_1		; SHOWS H
                                 
0000e9 2733                      	CLR MODE
0000ea 2f35                      	MOV MODE, R21
0000eb 940e 030d                 	CALL DISPLAY_2		; MUESTRA DISPLAY 2
                                 
0000ed 2733                      	CLR MODE
0000ee 2f38                      	MOV MODE, R24
0000ef 940e 0326                 	CALL DISPLAY_3		; MUESTRA DISPLAY 3
                                 
                                 	
                                 
0000f1 940c 0062                 	JMP LOOP
                                 
                                 STATE_0010:								; SETTINGS FOR HOUR AND LETTER S
                                 
0000f3 9a4f                      	SBI PIND, PD7		; DP DONT BLINK
0000f4 e03a                      	LDI MODE, 10
0000f5 940e 02f3                 	CALL DISPLAY_1
                                 
0000f7 2733                      	CLR MODE
0000f8 2f3b                      	MOV MODE, R27
0000f9 940e 0340                 	CALL DISPLAY_4		; MUESTRA EL DISPLAY 4 
                                 
0000fb 2733                      	CLR MODE
0000fc 2f3d                      	MOV MODE, R29
0000fd 940e 035e                 	CALL DISPLAY_5		; MUESTRA EL DISPLAY 5
                                 
0000ff 940c 0062                 	JMP LOOP
                                 
                                 STATE_0011:								; DATE AND LETTER d
                                 	
000101 e03b                      	LDI MODE, 11
000102 940e 02f3                 	CALL DISPLAY_1
000104 e030                      	LDI MODE, 0
                                 
000105 3342                      	CPI R20, 50							; COMPARADOR DEL TIMER, 50MS
000106 f7d1                      	BRNE STATE_0011
000107 2744                      	CLR R20
000108 9a4f                      	SBI PIND, PD7
                                 
000109 9b5f                      	SBIS PORTD, PD7
00010a e0a0                      	LDI R26, 0b0000_0000
00010b 995f                      	SBIC PORTD, PD7
00010c e8a0                      	LDI R26, 0b1000_0000				; BLINK DE DP
                                 		
00010d e030                      	LDI MODE, 0
00010e 940e 030d                 	CALL DISPLAY_2
000110 940e 0326                 	CALL DISPLAY_3
000112 940e 0340                 	CALL DISPLAY_4
000114 940e 035e                 	CALL DISPLAY_5
                                 	
000116 940c 0062                 	JMP LOOP
                                 
                                 STATE_0100:								; SETTINGS FOR DAYS AND LETTER S, BLINK OF DP
                                 	
000118 e03b                      	LDI MODE, 11
000119 940e 02f3                 	CALL DISPLAY_1
00011b e030                      	LDI MODE, 0
00011c 940e 030d                 	CALL DISPLAY_2
00011e 940e 0326                 	CALL DISPLAY_3
                                 	;CALL DISPLAY_4
                                 	;CALL DISPLAY_5
                                 	
000120 940c 0062                 	JMP LOOP
                                 
                                 STATE_0101:									; SETTINGS FOR MONTHS
                                 
000122 e03b                      	LDI MODE, 11
000123 940e 02f3                 	CALL DISPLAY_1
000125 e030                      	LDI MODE, 0
                                 
000126 940e 0340                 	CALL DISPLAY_4
000128 940e 035e                 	CALL DISPLAY_5
                                 	
00012a 940c 0062                 	JMP LOOP
                                 
                                 ;***************************************************
                                 COMPARE_STATE_6:
00012c ff20                      	SBRS STATE_REG, 0								; COMPARE VALUE OF STATE_REG IN BIT0
00012d 940c 0067                 	JMP STATE_XXX0							
                                 
00012f 940c 0071                 	JMP STATE_XXX1
                                 STATE_0110:								; ALARM MODE
                                 
000131 e03c                      	LDI MODE, 12
000132 940e 02f3                 	CALL DISPLAY_1				; MUESTRA LA LETRA "A"
                                 
000134 2733                      	CLR MODE
000135 2d30                      	MOV MODE, R0
000136 940e 030d                 	CALL DISPLAY_2				; MUESTRA LOS VALORES DEL DISPLAY 2 A LA ALARMA
                                 		
000138 2733                      	CLR MODE
000139 2d31                      	MOV MODE, R1
00013a 940e 0326                 	CALL DISPLAY_3				; DISPLAY 3 DE LA ALRMA
                                 
00013c 2733                      	CLR MODE
00013d 2d32                      	MOV MODE, R2
00013e 940e 0340                 	CALL DISPLAY_4				; DISPLAY 4 DE LA ALARMA
                                 
000140 2733                      	CLR MODE
000141 2d33                      	MOV MODE, R3
000142 940e 035e                 	CALL DISPLAY_5
                                 
000144 3342                      	CPI R20, 50							; COMPARADOR DEL TIMER, 50MS
000145 f759                      	BRNE STATE_0110
000146 2744                      	CLR R20
000147 9a4f                      	SBI PIND, PD7
                                 
000148 9b5f                      	SBIS PORTD, PD7
000149 e0a0                      	LDI R26, 0b0000_0000			; ENCENDER DP
00014a 995f                      	SBIC PORTD, PD7
00014b e8a0                      	LDI R26, 0b1000_0000
                                 
00014c 940c 0062                 	JMP LOOP
                                 	
                                 
                                 STATE_0111:								; SETTING MINUTES FOR ALARM 
                                 	
00014e e03c                      	LDI MODE, 12
00014f 940e 02f3                 	CALL DISPLAY_1
                                 
000151 2d30                      	MOV MODE, R0 
000152 940e 030d                 	CALL DISPLAY_2
                                 
000154 2d31                      	MOV MODE, R1
000155 940e 0326                 	CALL DISPLAY_3
                                 
000157 940c 0062                 	JMP LOOP
                                 		
                                 STATE_1000:								; SETTINGS HOURS FOR ALARM
                                 	
000159 e03c                      	LDI MODE, 12
00015a 940e 02f3                 	CALL DISPLAY_1
                                 	
00015c 2733                      	CLR MODE
00015d 2d32                      	MOV MODE, R2
00015e 940e 0340                 	CALL DISPLAY_4
                                 
000160 2d33                      	MOV MODE, R3
000161 940e 035e                 	CALL DISPLAY_5
                                 
000163 9a4f                      	SBI PIND, PD7						; INTENTO DE ALARMA
                                 
000164 940c 0062                 	JMP LOOP
                                 
                                 STATE_1001:								;ACTIVAR
                                 
                                 	
000166 940c 0062                 	JMP LOOP
                                 
                                 STATE_1010:								; DESACTIVAR ALARMA / INTENTO DE LA ALARMA
000168 e0e0                      	LDI R30, 0
000169 12fe                      	CPSE R15, r30
00016a 940c 02e2                 	JMP SET_AL_D2
00016c 9a1d                      	SBI PINB, PB5
00016d 940c 0062                 	JMP LOOP   
                                 
                                 
                                 ;**************************************************************************
                                 ; COMPARE INTERRUPTION FOR STATES
                                 ;**************************************************************************
                                 
                                 INT_STATE_XXX0:
                                 	
00016f ff21                      	SBRS STATE_REG, 1
000170 940c 0174                 	JMP INT_STATE_XX00
000172 940c 018d                 	JMP INT_STATE_XX10
                                 
                                 INT_STATE_XX00: 
                                 
000174 ff22                      	SBRS STATE_REG, 2 
000175 940c 017e                 	JMP INT_STATE_X000 
000177 940c 01a1                 	JMP INT_STATE_X100 
                                 
                                 INT_STATE_XXX1:
                                 	
000179 ff21                      	SBRS STATE_REG, 1
00017a 940c 0183                 	JMP INT_STATE_XX01
00017c 940c 0197                 	JMP INT_STATE_XX11 
                                 
                                 INT_STATE_X000:
                                  
00017e ff23                      	SBRS STATE_REG, 3 
00017f 940c 01b5                 	JMP INT_STATE_0000 
000181 940c 02c8                 	JMP INT_STATE_1000  
                                 
                                 INT_STATE_XX01: 
                                 
000183 ff22                      	SBRS STATE_REG, 2 
000184 940c 0188                 	JMP INT_STATE_X001 
000186 940c 01a6                 	JMP INT_STATE_X101 
                                 
                                 INT_STATE_X001: 
                                 
000188 ff23                      	SBRS STATE_REG, 3
000189 940c 01e1                 	JMP INT_STATE_0001 
00018b 940c 02d8                 	JMP INT_STATE_1001
                                 
                                 INT_STATE_XX10: 
                                 	
00018d ff22                      	SBRS STATE_REG, 2 
00018e 940c 0192                 	JMP INT_STATE_X010 
000190 940c 01ab                 	JMP INT_STATE_X110
                                 
                                 INT_STATE_X010: 
                                 
000192 ff23                      	SBRS STATE_REG, 3
000193 940c 0220                 	JMP INT_STATE_0010 
000195 940c 02ed                 	JMP INT_STATE_1010
                                 
                                 INT_STATE_XX11: 
                                 	
000197 ff22                      	SBRS STATE_REG, 2 
000198 940c 019c                 	JMP INT_STATE_X011 
00019a 940c 01b0                 	JMP INT_STATE_X111 
                                 
                                 INT_STATE_X011: 
                                 
00019c ff23                      	SBRS STATE_REG, 3
00019d 940c 0230                 	JMP INT_STATE_0011 
                                 	
00019f 940c 0393                 	JMP ISR_POP
                                 
                                 INT_STATE_X100: 
                                 
0001a1 ff23                      	SBRS STATE_REG, 3
0001a2 940c 024b                 	JMP INT_STATE_0100 
0001a4 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 INT_STATE_X101: 
                                 
0001a6 ff23                      	SBRS STATE_REG, 3
0001a7 940c 0256                 	JMP INT_STATE_0101 
0001a9 940c 0393                 	JMP ISR_POP
                                 
                                 INT_STATE_X110: 
                                 
0001ab ff23                      	SBRS STATE_REG, 3 
0001ac 940c 025c                 	JMP INT_STATE_0110
0001ae 940c 01a6                 	JMP INT_STATE_X101
                                 
                                 
                                 INT_STATE_X111: 
                                 	
0001b0 ff23                      	SBRS STATE_REG, 3
0001b1 940c 0288                 	JMP INT_STATE_0111 
0001b3 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 ;*****************************************************
                                 ;INT_STATES
                                 ;*****************************************************
                                 
                                 
                                 INT_STATE_0000:								
                                 	
0001b5 b116                      	IN R17, PINC
0001b6 ff13                      	SBRS R17, PC3		; SETTINGS
                                 
0001b7 e021                      	LDI STATE_REG, 1
0001b8 b116                      	IN R17, PINC
                                 
0001b9 ff12                      	SBRS R17, PC2		; MODE
0001ba e023                      	LDI STATE_REG, 3
                                 
0001bb 940c 0393                 	JMP ISR_POP
                                 	
                                 ;*************************************************
                                 
                                 INCREASE_MINUTE:
0001bd e0e9                      	LDI R30, 9				; CARGA EL VALOR DE 9
0001be 13e5                      	CPSE R30, R21			; COMPARA SI SON IGUALES
0001bf 940c 01c9                 	JMP INCREMENTAR			; SI NO ES IGUAL
0001c1 2755                      	CLR R21					; SI ES IGUAL LLEGA A 0
                                 
0001c2 e0e5                      	LDI R30, 5				; CARGA EL VALOR DE 5
0001c3 138e                      	CPSE R24, R30			; COMPARA SI SON IGUALES
0001c4 940c 01cc                 	JMP INCREMENTAR_2		; SI NO ES IGUAL 
0001c6 2788                      	CLR R24					; SI ES IGUAL LLEGA A 0
                                 
0001c7 940c 0393                 	JMP ISR_POP
                                 
                                 INCREMENTAR:		; INCREMENTA VALOR EN  DISPLAY 2 
0001c9 9553                      	INC R21
0001ca 940c 0393                 	JMP ISR_POP
                                 INCREMENTAR_2:		; INCREMENTA VALOR EN  DISPLAY 3
0001cc 9583                      	INC R24
0001cd 940c 0393                 	JMP ISR_POP
                                 		
                                 DECREASE_MINUTE:
0001cf e0e0                      	LDI R30, 0		; SE LE DA EL VALOR DE 0
0001d0 13e5                      	CPSE R30, R21	; COMPARA 
0001d1 940c 01db                 	JMP DECREASE				; SI NO ES IGUAL        
0001d3 e059                      	LDI R21, 9					;SI ES IGUAL
                                 
0001d4 e0e0                      	LDI R30, 0		; SE LE DA EL VALOR DE 0
0001d5 138e                      	CPSE R24, R30	; COMPARA	
0001d6 940c 01de                 	JMP DECREASE_2		; SI ES IGUAL
0001d8 e085                      	LDI R24, 5			; SI NO ES IGUAL
                                 
0001d9 940c 0393                 	JMP ISR_POP
                                 DECREASE:				; DECREMENTA EL VALOR DEL REGISTRO DEL DISPLAY2
0001db 955a                      	DEC R21
0001dc 940c 0393                 	JMP ISR_POP
                                 DECREASE_2:				; DECREMENTA EL VALOR DEL REGISTRO DEL DISPLAY3
0001de 958a                      	DEC R24
0001df 940c 0393                 	JMP ISR_POP
                                 
                                 INT_STATE_0001:			; ESTADO 1
                                 							
0001e1 b116                      	IN R17, PINC
0001e2 ff13                      	SBRS R17, PC3		; PC3 CONGIFURACION A HORAS
0001e3 e022                      	LDI STATE_REG, 2
                                 
0001e4 b116                      	IN R17, PINC
0001e5 ff14                      	SBRS R17, PC4		; ACTIVAR REGRESA A H
0001e6 e020                      	LDI STATE_REG, 0
                                 
0001e7 b116                      	IN R17, PINC			;INCREMENTA
0001e8 ff10                      	SBRS R17, PC0
0001e9 940c 01bd                 	JMP INCREASE_MINUTE
                                 
0001eb b116                      	IN R17, PINC			; DECREMENTA
0001ec ff11                      	SBRS R17, PC1
0001ed 940c 01cf                 	JMP DECREASE_MINUTE
0001ef 940c 0393                 	JMP ISR_POP
                                 	
                                 ;******************************************
                                 INCREASE_HOUR:
                                 
0001f1 e0e2                      	LDI R30, 2				; LA DECESA YA ES DOS
0001f2 13ed                      	CPSE R30, R29			; NO 
0001f3 940c 01fd                 	JMP INCREMENTAR_HORA	; INCREMENTA
                                 	
0001f5 e0e3                      	LDI R30, 3
0001f6 13eb                      	CPSE R30, R27;DISPLAY 4
0001f7 940c 01fd                 	JMP INCREMENTAR_HORA
                                 
0001f9 27bb                      	CLR R27
0001fa 27dd                      	CLR R29				; PASA AL VALOR 00
0001fb 940c 0393                 	JMP ISR_POP
                                 
                                 INCREMENTAR_HORA:			; SI R27 (DISPLAY 4) LLEGA A 9 O REGRESE A 0
0001fd e0e9                      	LDI R30, 9
0001fe 13eb                      	CPSE R30, R27
0001ff 940c 0208                 	JMP INC_HOUR
000201 27bb                      	CLR R27
                                 
000202 e0e2                      	LDI R30, 2			; SI R24 LLEGA AL VALOR DE 2 ME INCREMNTEA R27
000203 138e                      	CPSE R24, R30
000204 940c 020b                 	JMP INC_HOUR_2
                                 
000206 940c 0393                 	JMP ISR_POP
                                 
                                 INC_HOUR:
000208 95b3                      	INC R27
000209 940c 0393                 	JMP ISR_POP
                                 
                                 INC_HOUR_2:
00020b 95d3                      	INC R29
00020c 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 DECREASE_HOUR:					; ME DECREMENTA LA HORA AL CONFIGURARLA
00020e e0e0                      	LDI R30, 0
00020f 13eb                      	CPSE R30, R27
000210 940c 021a                 	JMP DECREASE_
000212 e0b3                      	LDI R27, 3
                                 
000213 e0e0                      	LDI R30, 0
000214 13de                      	CPSE R29, R30
000215 940c 021d                 	JMP DECREASE_HOUR_2_CLOCK
000217 e0d2                      	LDI R29, 2
                                 
000218 940c 0393                 	JMP ISR_POP
                                 
                                 DECREASE_:
                                 	
00021a 95ba                      	DEC R27
00021b 940c 0393                 	JMP ISR_POP
                                 	
                                 DECREASE_HOUR_2_CLOCK:
                                 	
00021d 95da                      	DEC R29
00021e 940c 0393                 	JMP ISR_POP
                                 	
                                 INT_STATE_0010:						; CONFIGURACION DE HORA				
                                 	
000220 b116                      	IN R17, PINC
000221 ff14                      	SBRS R17, PC4		; ACTIVATE
000222 e020                      	LDI STATE_REG, 0
                                 	
000223 b116                      	IN R17, PINC
000224 9b30                      	SBIS PINC, PC0
000225 940c 01f1                 	JMP INCREASE_HOUR	;INCREASE THE HOUR IN CLOCK
                                 
000227 b116                      	IN R17, PINC
000228 9b31                      	SBIS PINC, PC1
000229 940c 020e                 	JMP DECREASE_HOUR	; DECREASE THE HOUR IN CLOCK
                                 
00022b b116                      	IN R17, PINC
00022c 9b33                      	SBIS PINC, PC3
00022d e020                      	LDI STATE_REG, 0	; RETURNS TO STATE_0001
                                 
00022e 940c 0393                 	JMP ISR_POP
                                 
                                 INT_STATE_0011:								; DATE AND LETTER d
                                 
000230 b116                      	IN R17, PINC
000231 9b33                      	SBIS PINC, PC3		;SETTINGS
000232 e024                      	LDI STATE_REG, 4
                                 
000233 9b32                      	SBIS PINC, PC2		; MODE
000234 e026                      	LDI STATE_REG, 6
000235 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 ;****************************
                                 INCREASE_DAYS:
                                 
000237 e0e9                      	LDI R30, 9
000238 2e95                      	MOV R9, R21
000239 129e                      	CPSE R9, R30
00023a 940c 0245                 	JMP INCREASE_DAYS_D2
                                 
00023c e0e3                      	LDI R30, 3
00023d 2ea8                      	MOV R10, R24
00023e 138e                      	CPSE R24, R30
00023f 940c 0248                 	JMP INCREASE_DAYS_D3
000241 24aa                      	CLR R10
000242 2499                      	CLR R9
                                 
000243 940c 0393                 	JMP ISR_POP
                                 
                                 INCREASE_DAYS_D2:
000245 9493                      	INC R9
000246 940c 0393                 	JMP ISR_POP
                                 INCREASE_DAYS_D3:
000248 94a3                      	INC R10
000249 940c 0393                 	JMP ISR_POP
                                 
                                 INT_STATE_0100:				; CONFIGURA EL VALOR DE LOS MESES					
                                 	
00024b b116                      	IN R17, PINC
00024c 9b33                      	SBIS PINC, PC3		; SETTINGS
00024d e025                      	LDI STATE_REG, 5
                                 
00024e b116                      	IN R17, PINC		; INCREMENTEA
00024f 9b30                      	SBIS PINC, PC0
000250 940c 0237                 	JMP INCREASE_DAYS
                                 
000252 9b34                      	SBIS PINC, PC4		; ACTIVATE
000253 e023                      	LDI STATE_REG, 3
000254 940c 0393                 	JMP ISR_POP
                                 
                                 INT_STATE_0101:					; CONFIGURA EL VALOR DE LOS DIAS					
                                 
000256 9b34                      	SBIS PINC, PC4		; ACTIVATE					; IF PRESS ACTIVE GOES TO 0011
000257 e023                      	LDI STATE_REG, 3
                                 	
000258 9b33                      	SBIS PINC, PC3		; ETO EZ POR SI QUEIRO QUE REGRESE AL S3 PRESIONANDO SETTINGS
000259 e023                      	LDI STATE_REG, 3
                                 
00025a 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 
                                 
                                 
                                 INT_STATE_0110:								; ALARM MODE
                                 
00025c 9b33                      	SBIS PINC, PC3		; SETTINGS
00025d e027                      	LDI STATE_REG, 7
                                 
00025e 9b32                      	SBIS PINC, PC2		; MODE / TAKES ME TO HOUR
00025f e020                      	LDI STATE_REG, 0
                                 
000260 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 ; INTERRUPCIONES PARA EL ESTADO 7
                                 
                                 INCREASE_MINUTE_ALARM:
000262 e0e9                      	LDI R30, 9				; CARGA EL VALOR DE 9
000263 11e0                      	CPSE R30, R0			; COMPARA SI SON IGUALES
000264 940c 026e                 	JMP INCREMENTAR_AL		; SI NO ES IGUAL
000266 2400                      	CLR R0					; SI ES IGUAL
                                 
000267 e0e5                      	LDI R30, 5
000268 121e                      	CPSE R1, R30
000269 940c 0271                 	JMP INCREMENTAR_2_AL
00026b 2411                      	CLR R1
                                 
00026c 940c 0393                 	JMP ISR_POP
                                 INCREMENTAR_AL:
00026e 9403                      	INC R0
00026f 940c 0393                 	JMP ISR_POP
                                 INCREMENTAR_2_AL:
000271 9413                      	INC R1
000272 940c 0393                 	JMP ISR_POP
                                 		
                                 DECREASE_MINUTE_AL:				; DECREMENTA EL VALOR DE LOS MINUTOS EN LA CONFIGURACION DE LA ALARMA
000274 e0e0                      	LDI R30, 0
000275 11e0                      	CPSE R30, R0
000276 940c 0282                 	JMP DECREASE_AL				; SI NO ES IGUAL
                                 								; SI ES IGUAL
000278 e0e9                      	LDI R30, 9
000279 2e0e                      	MOV R0, R30
                                 
00027a e0e0                      	LDI R30, 0
00027b 121e                      	CPSE R1, R30
00027c 940c 0285                 	JMP DECREASE_2_AL
00027e e0e5                      	LDI R30, 5
00027f 2e1e                      	MOV R1, R30
                                 
000280 940c 0393                 	JMP ISR_POP
                                 DECREASE_AL:
000282 940a                      	DEC R0
000283 940c 0393                 	JMP ISR_POP
                                 DECREASE_2_AL:
000285 941a                      	DEC R1
000286 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 
                                 
                                 INT_STATE_0111:				; SETTING MINUTES FOR ALARM 
                                 		
000288 9b33                      	SBIS PINC, PC3		; SETTINGS FOP MINUTES IN ALARM
000289 e028                      	LDI STATE_REG, 8
                                 	
00028a b116                      	IN R17, PINC		; INCREASE MINUTES IN ALARM
00028b ff10                      	SBRS R17, PC0
00028c 940c 0262                 	JMP INCREASE_MINUTE_ALARM
                                 
00028e b116                      	IN R17, PINC		; DECREASE MINUTES IN ALARM
00028f ff11                      	SBRS R17, PC1
000290 940c 0274                 	JMP DECREASE_MINUTE_AL
                                 
000292 b116                      	IN R17, PINC
000293 ff14                      	SBRS R17, PC4
000294 e020                      	LDI STATE_REG, 0		; REGRESA AL ESTADO 0 AL PRESIONAR PC4
                                 
000295 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 ; *************************************************************************
                                 ; INTERRUPCIONES PARA EL ESTADO 8 
                                 
                                 INCREASE_HOUR_ALARM:
000297 e0e2                      	LDI R30, 2				; CARGA EL VALOR DE 9
000298 11e3                      	CPSE R30, R3			; COMPARA SI SON IGUALES
000299 940c 02a3                 	JMP INCREMENTAR_HORA_ALARMA		; SI NO ES IGUAL
                                 									
00029b e0e3                      	LDI R30, 3
00029c 11e2                      	CPSE R30, R2
00029d 940c 02a3                 	JMP INCREMENTAR_HORA_ALARMA
                                 
00029f 2422                      	CLR R2
0002a0 2433                      	CLR R3
                                 
0002a1 940c 0393                 	JMP ISR_POP
                                 
                                 INCREMENTAR_HORA_ALARMA:
                                 	
0002a3 e0e9                      	LDI R30, 9
0002a4 11e2                      	CPSE R30, R2
0002a5 940c 02ae                 	JMP INCREMENTAR_AL_HOUR
0002a7 2422                      	CLR R2
                                 
0002a8 e0e2                      	LDI R30, 2
0002a9 123e                      	CPSE R3, R30
0002aa 940c 02b1                 	JMP INCREMENTAR_2_AL_HOUR
0002ac 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 INCREMENTAR_AL_HOUR:
0002ae 9423                      	INC R2
0002af 940c 0393                 	JMP ISR_POP
                                 
                                 INCREMENTAR_2_AL_HOUR:
0002b1 9433                      	INC R3
0002b2 940c 0393                 	JMP ISR_POP
                                 		
                                 DECREASE_HOUR_AL:
0002b4 e0e0                      	LDI R30, 0
0002b5 11e2                      	CPSE R30, R2
0002b6 940c 02c2                 	JMP DECREASE_AL_HOUR				; SI NO ES IGUAL								
0002b8 e0e3                      	LDI R30, 3							; SI ES IGUAL 
0002b9 2e2e                      	MOV R2, R30
                                 
0002ba e0e0                      	LDI R30, 0
0002bb 123e                      	CPSE R3, R30
0002bc 940c 02c5                 	JMP DECREASE_2_AL_HOUR			; SI NO ES IGUAL 
0002be e0e2                      	LDI R30, 2						; SI ES IGUAL 
0002bf 2e3e                      	MOV R3, R30
                                 
0002c0 940c 0393                 	JMP ISR_POP
                                 DECREASE_AL_HOUR:
0002c2 942a                      	DEC R2
0002c3 940c 0393                 	JMP ISR_POP
                                 DECREASE_2_AL_HOUR:
0002c5 943a                      	DEC R3
0002c6 940c 0393                 	JMP ISR_POP
                                 		
                                 
                                 INT_STATE_1000:								; SETTINGS HOURS FOR ALARM
                                 	
0002c8 9b34                      	SBIS PINC, PC4		; ACTIVATE
0002c9 e029                      	LDI STATE_REG, 9						
                                 	
0002ca 9b33                      	SBIS PINC, PC3
0002cb e027                      	LDI STATE_REG, 7
                                 
0002cc b116                      	IN R17, PINC
0002cd ff10                      	SBRS R17, PC0
0002ce 940c 0297                 	JMP INCREASE_HOUR_ALARM
                                 
0002d0 b116                      	IN R17, PINC
0002d1 ff11                      	SBRS R17, PC1
0002d2 940c 02b4                 	JMP DECREASE_HOUR_AL
                                 
0002d4 2c52                      	MOV R5, R2
0002d5 2c63                      	MOV R6, R3
                                 
0002d6 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 
                                 ;*****************************
                                 ;	 ESTADO 9
                                 
                                 
                                 INT_STATE_1001:			; PEDNIENTE PARA ACTIVAR LA ALRMA
0002d8 b116                      	IN R17, PINC
0002d9 9b34                      	SBIS PINC, PC4
0002da 940c 02e2                 	JMP SET_AL_D2
0002dc e020                      	LDI STATE_REG, 0
0002dd e0e1                      	LDI R30, 1
0002de 2efe                      	MOV R15, R30
                                 								;ACTIVAR
                                 	
0002df 940c 0393                 	JMP ISR_POP
                                 
                                 
                                 COMPARE_BUZZER:
0002e1 9508                      	RET			; REGRESA DONDE ESTABA
                                 
                                 SET_AL_D2:
0002e2 1655                      	CP R5, R21
0002e3 f7e9                      	BRNE COMPARE_BUZZER
0002e4 1668                      	CP R6, R24
0002e5 f7d9                      	BRNE COMPARE_BUZZER
0002e6 162b                      	CP R2, R27
0002e7 f7c9                      	BRNE COMPARE_BUZZER
0002e8 163d                      	CP R3, R29
0002e9 f7b9                      	BRNE COMPARE_BUZZER
                                 	
0002ea e02a                      	LDI STATE_REG, 10 
                                 
0002eb 940c 0062                 	JMP LOOP
                                 
                                 INT_STATE_1010:			; PENDIETNE PARA DESACTIVAR LA ALARMA 
                                 
0002ed b116                      	IN R17, PINC
0002ee 9b34                      	SBIS PINC, PC4
0002ef fe81                      	SBRS R8, 1
0002f0 982d                      	CBI PORTB, PB5
                                 	
0002f1 940c 0393                 	JMP ISR_POP
                                 
                                 ;**************************************************************************
                                 ; SUBRUTINAS
                                 ;**************************************************************************
                                 
                                 
                                 DISPLAY_1: 
                                 
                                 	
0002f3 9829                      	CBI PORTB, PB1						
0002f4 982a                      	CBI PORTB, PB2
0002f5 982b                      	CBI PORTB, PB3
0002f6 982c                      	CBI PORTB, PB4
                                 
0002f7 2766                      	CLR R22
0002f8 2f63                      	MOV R22, MODE
0002f9 e0f0                      	LDI ZH, HIGH(D7SEG << 1)
0002fa e4ec                      	LDI ZL, LOW(D7SEG << 1)
0002fb 0fe6                      	ADD ZL, R22
0002fc 9164                      	LPM R22, Z
                                 
0002fd 9829                      	CBI PORTB, PB1
0002fe 982a                      	CBI PORTB, PB2
0002ff 982b                      	CBI PORTB, PB3
000300 982c                      	CBI PORTB, PB4
                                 
000301 0f6a                      	ADD R22, R26
000302 b96b                      	OUT PORTD, R22
                                 
                                 
000303 fd60                      	SBRC R22, PD0
000304 9a58                      	SBI PORTD, PD0
000305 ff60                      	SBRS R22, PD0
000306 9858                      	CBI PORTD, PD0 
                                 
000307 9a28                      	SBI PORTB, PB0
                                 	
000308 9829                      	CBI PORTB, PB1
000309 982a                      	CBI PORTB, PB2
00030a 982b                      	CBI PORTB, PB3
00030b 982c                      	CBI PORTB, PB4
                                 
00030c 9508                      	RET
                                 
                                 DISPLAY_2: 
                                 	
00030d 9828                      	CBI PORTB, PB0						
00030e 982a                      	CBI PORTB, PB2
00030f 982b                      	CBI PORTB, PB3
000310 982c                      	CBI PORTB, PB4
                                 	
000311 2f63                      	MOV R22, MODE
000312 e0f0                      	LDI ZH, HIGH(D7SEG << 1)
000313 e4ec                      	LDI ZL, LOW(D7SEG << 1)
000314 0fe6                      	ADD ZL, R22
000315 9164                      	LPM R22, Z
                                 
000316 9828                      	CBI PORTB, PB0
000317 982a                      	CBI PORTB, PB2
000318 982b                      	CBI PORTB, PB3
000319 982c                      	CBI PORTB, PB4
                                 
00031a 0f6a                      	ADD R22, R26
00031b b96b                      	OUT PORTD, R22
                                 
00031c fd60                      	SBRC R22, PD0
00031d 9a58                      	SBI PORTD, PD0
00031e ff60                      	SBRS R22, PD0
00031f 9858                      	CBI PORTD, PD0 
                                 
000320 9a29                      	SBI PORTB, PB1
                                 	
000321 9828                      	CBI PORTB, PB0
000322 982a                      	CBI PORTB, PB2
000323 982b                      	CBI PORTB, PB3
000324 982c                      	CBI PORTB, PB4
                                 
000325 9508                      	RET
                                 
                                 DISPLAY_3: 
                                 
000326 2766                      	CLR R22
000327 2f63                      	MOV R22, MODE
000328 9828                      	CBI PORTB, PB0
000329 9829                      	CBI PORTB, PB1
00032a 982b                      	CBI PORTB, PB3
00032b 982c                      	CBI PORTB, PB4
                                 
00032c e0f0                      	LDI ZH, HIGH(D7SEG << 1)
00032d e4ec                      	LDI ZL, LOW(D7SEG << 1)
00032e 0fe6                      	ADD ZL, R22
00032f 9164                      	LPM R22, Z
                                 
000330 9828                      	CBI PORTB, PB0
000331 9829                      	CBI PORTB, PB1
000332 982b                      	CBI PORTB, PB3
000333 982c                      	CBI PORTB, PB4
                                 
000334 0f6a                      	ADD R22, R26
000335 b96b                      	OUT PORTD, R22
                                 
000336 fd60                      	SBRC R22, PD0
000337 9a58                      	SBI PORTD, PD0
000338 ff60                      	SBRS R22, PD0
000339 9858                      	CBI PORTD, PD0
                                 
00033a 9a2a                      	SBI PORTB, PB2
                                 	
00033b 9828                      	CBI PORTB, PB0
00033c 9829                      	CBI PORTB, PB1
00033d 982b                      	CBI PORTB, PB3
00033e 982c                      	CBI PORTB, PB4
00033f 9508                      	RET
                                 
                                 DISPLAY_4: 
                                 
000340 9828                      	CBI PORTB, PB0
000341 9829                      	CBI PORTB, PB1
000342 982a                      	CBI PORTB, PB2
000343 982c                      	CBI PORTB, PB4
                                 
000344 2766                      	CLR R22
000345 2f63                      	MOV R22, MODE
000346 9828                      	CBI PORTB, PB0
000347 9829                      	CBI PORTB, PB1
000348 982a                      	CBI PORTB, PB2
000349 982c                      	CBI PORTB, PB4
                                 
00034a e0f0                      	LDI ZH, HIGH(D7SEG << 1)
00034b e4ec                      	LDI ZL, LOW(D7SEG << 1)
00034c 0fe6                      	ADD ZL, R22
00034d 9164                      	LPM R22, Z
                                 
00034e 9828                      	CBI PORTB, PB0
00034f 9829                      	CBI PORTB, PB1
000350 982a                      	CBI PORTB, PB2
000351 982c                      	CBI PORTB, PB4
                                 
000352 0f6a                      	ADD R22, R26
000353 b96b                      	OUT PORTD, R22
                                 
000354 fd60                      	SBRC R22, PD0
000355 9a58                      	SBI PORTD, PD0
000356 ff60                      	SBRS R22, PD0
000357 9858                      	CBI PORTD, PD0
                                 
000358 9828                      	CBI PORTB, PB0
000359 9829                      	CBI PORTB, PB1
00035a 982a                      	CBI PORTB, PB2
00035b 982c                      	CBI PORTB, PB4
                                 	
00035c 9a2b                      	SBI PORTB, PB3
                                 	
00035d 9508                      	RET
                                 DISPLAY_5: 
00035e 9828                      	CBI PORTB, PB0
00035f 9829                      	CBI PORTB, PB1
000360 982a                      	CBI PORTB, PB2
000361 982b                      	CBI PORTB, PB3
                                 
000362 2766                      	CLR R22
000363 2f63                      	MOV R22, MODE
                                 	
                                 
000364 e0f0                      	LDI ZH, HIGH(D7SEG << 1)
000365 e4ec                      	LDI ZL, LOW(D7SEG << 1)
000366 0fe6                      	ADD ZL, R22
000367 9164                      	LPM R22, Z
                                 
000368 9828                      	CBI PORTB, PB0
000369 9829                      	CBI PORTB, PB1
00036a 982a                      	CBI PORTB, PB2
00036b 982b                      	CBI PORTB, PB3
                                 
00036c 0f6a                      	ADD R22, R26
00036d b96b                      	OUT PORTD, R22
                                 
00036e fd60                      	SBRC R22, PD0
00036f 9a58                      	SBI PORTD, PD0
000370 ff60                      	SBRS R22, PD0
000371 9858                      	CBI PORTD, PD0
                                 
000372 9a2c                      	SBI PORTB, PB4
                                 
000373 9828                      	CBI PORTB, PB0
000374 9829                      	CBI PORTB, PB1
000375 982a                      	CBI PORTB, PB2
000376 982b                      	CBI PORTB, PB3
                                 	
                                 	
                                 	
000377 9508                      	RET
                                 
                                 
                                 	
                                 ;************************************************************************
                                 ; INTERRUPCIONES
                                 ;************************************************************************
                                 
                                 INIT_T0:
000378 e005                      	LDI R16, (1 << CS02) | (1 << CS00)
000379 bd05                      	OUT TCCR0B, R16									;SET PRESCALER, 1024
                                 
00037a e603                      	LDI R16, 99										;OVERFLOW VALUE, EVERY 10ms
00037b bd06                      	OUT TCNT0, R16									;LOAD START VALUE OF TIMER
                                 
00037c e001                      	LDI R16, (1 << TOIE0)
00037d 9300 006e                 	STS TIMSK0, R16									;INTERRUPTION ENABLE
00037f 9508                      	RET
                                 
                                 ISR_TIMER0:
                                 	
000380 930f                      	PUSH R16										;SAVE PILE
000381 b70f                      	IN R16, SREG
000382 930f                      	PUSH R16
                                 
000383 e603                      	LDI R16, 99										;VALOR DE DESBORDAMIENTO CALCULADO 99.75== 99
000384 bd06                      	OUT TCNT0, R16									;LOAD THE OVERFLOW VALUE
000385 9aa8                      	SBI TIFR0, TOV0									;TURN OFF FLAG
000386 9543                      	INC R20											;INCREASE COUNTER OF 10ms
                                 
000387 910f                      	POP R16											; GET SREG
000388 bf0f                      	OUT SREG, R16
000389 910f                      	POP R16
                                 
00038a 9518                      	RETI
                                 
                                 ISR_PCINT1:					;INTERRUPTION FOR PORTC, TO CHANGE STATES
00038b 931f                      	PUSH R17
00038c b71f                      	IN R17, SREG
00038d 931f                      	PUSH R17
                                 	
                                 											;STATE_REG , STATE VALUE
00038e ff20                      	SBRS STATE_REG, 0								; COMPARE THE VALUE OF STATE_REG
00038f 940c 016f                 	JMP INT_STATE_XXX0							
000391 940c 0179                 	JMP INT_STATE_XXX1
                                 
                                 ISR_POP:
                                 	
000393 9ad9                      	SBI PCIFR, PCIF1
000394 911f                      	POP R17											; GET SREG
000395 bf1f                      	OUT SREG, R17
000396 911f                      	POP R17
                                 
000397 9518                      	RETI
                                 


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

"ATmega328P" register use summary:
x  :   0 y  :   0 z  :   6 r0 :   9 r1 :   9 r2 :  13 r3 :  12 r4 :   0 
r5 :   2 r6 :   2 r7 :   0 r8 :   1 r9 :   4 r10:   3 r11:   0 r12:   0 
r13:   0 r14:   0 r15:   2 r16:  26 r17:  41 r18:  54 r19:  48 r20:   8 
r21:  15 r22:  40 r23:   5 r24:  16 r25:   0 r26:  12 r27:  15 r28:   0 
r29:  14 r30:  80 r31:   6 
Registers used: 25 out of 35 (71.4%)

"ATmega328P" instruction use summary:
.lds  :   0 .sts  :   0 adc   :   0 add   :  11 adiw  :   0 and   :   0 
andi  :   0 asr   :   0 bclr  :   0 bld   :   0 brbc  :   0 brbs  :   0 
brcc  :   0 brcs  :   0 break :   0 breq  :   0 brge  :   0 brhc  :   0 
brhs  :   0 brid  :   0 brie  :   0 brlo  :   0 brlt  :   0 brmi  :   0 
brne  :  12 brpl  :   0 brsh  :   0 brtc  :   0 brts  :   0 brvc  :   0 
brvs  :   0 bset  :   0 bst   :   0 call  :  34 cbi   :  75 cbr   :   0 
clc   :   0 clh   :   0 cli   :   0 cln   :   0 clr   :  38 cls   :   0 
clt   :   0 clv   :   0 clz   :   0 com   :   0 cp    :   4 cpc   :   0 
cpi   :   8 cpse  :  23 dec   :   8 eor   :   0 fmul  :   0 fmuls :   0 
fmulsu:   0 icall :   0 ijmp  :   0 in    :  22 inc   :  16 jmp   : 152 
ld    :   0 ldd   :   0 ldi   : 113 lds   :   0 lpm   :  12 lsl   :   0 
lsr   :   0 mov   :  34 movw  :   0 mul   :   0 muls  :   0 mulsu :   0 
neg   :   0 nop   :   0 or    :   0 ori   :   0 out   :  14 pop   :   4 
push  :   4 rcall :   0 ret   :   7 reti  :   2 rjmp  :   0 rol   :   0 
ror   :   0 sbc   :   0 sbci  :   0 sbi   :  24 sbic  :   3 sbis  :  20 
sbiw  :   0 sbr   :   0 sbrc  :   5 sbrs  :  51 sec   :   0 seh   :   0 
sei   :   1 sen   :   0 ser   :   0 ses   :   0 set   :   0 sev   :   0 
sez   :   0 sleep :   0 spm   :   0 st    :   0 std   :   0 sts   :   4 
sub   :   0 subi  :   0 swap  :   0 tst   :   0 wdr   :   0 
Instructions used: 27 out of 113 (23.9%)

"ATmega328P" memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x000730   1770     14   1784   32768   5.4%
[.dseg] 0x000100 0x000100      0      0      0    2048   0.0%
[.eseg] 0x000000 0x000000      0      0      0    1024   0.0%

Assembly complete, 0 errors, 0 warnings
